<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI ëª¨ì˜ë©´ì ‘ ë¶„ì„ê¸°</title>
    <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333; min-height: 100vh;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

    /* í—¤ë” */
    .header { text-align: center; margin-bottom: 30px; padding: 30px; background: rgba(255,255,255,0.95); border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .header h1 { font-size: 2.5rem; background: linear-gradient(135deg,#667eea,#764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
    .header p { font-size: 1.1rem; color: #666; }

    /* ì˜¨ë³´ë”© ì„¹ì…˜ */
    .onboarding { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 28px; margin-bottom: 28px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
    .onboarding h2 { font-size: 1.4rem; margin-bottom: 16px; }
    .onboarding-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap: 16px; }
    .card { background: #fff; border-radius: 12px; padding: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); border-left: 4px solid #667eea; }
    .card h3 { font-size: 1.05rem; margin-bottom: 10px; }
    .card p, .card li { color: #555; line-height: 1.5; }
    .guide-figure { position: relative; aspect-ratio: 16/9; border-radius: 10px; overflow: hidden; background: linear-gradient(45deg, rgba(102,126,234,0.08), rgba(118,75,162,0.08)); display: grid; place-items: center; }
    .guide-figure svg { width: 90%; height: 90%; }
    .tag { display: inline-block; font-size: 0.78rem; padding: 4px 8px; border-radius: 999px; background: rgba(102,126,234,0.12); color: #4b57da; margin-right: 6px; }
    .row { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: space-between; }
    .btn-primary, .btn-ghost, .btn-copy { border: 0; padding: 12px 22px; border-radius: 999px; cursor: pointer; transition: transform .2s ease, box-shadow .2s ease; }
    .btn-primary { background: linear-gradient(135deg,#667eea,#764ba2); color: #fff; box-shadow: 0 6px 18px rgba(102,126,234,0.35); }
    .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 10px 26px rgba(102,126,234,0.45); }
    .btn-ghost { background: rgba(255,255,255,0.6); color: #555; }
    .btn-copy { background: #eee; color: #444; padding: 8px 14px; }
    .small { font-size: .9rem; color: #666; }
    textarea.script { width: 100%; min-height: 140px; border: 1px dashed #cfd3ff; background: #fafaff; padding: 12px; border-radius: 10px; font-size: .95rem; color: #333; outline: none; }

    /* ì—…ë¡œë“œ */
    .upload-section { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .upload-zone { border: 3px dashed #667eea; border-radius: 15px; padding: 40px; text-align: center; background: linear-gradient(45deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05)); transition: all .3s ease; cursor: pointer; }
    .upload-zone:hover { border-color: #764ba2; background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); transform: translateY(-2px); }
    .upload-zone.dragover { border-color: #764ba2; background: linear-gradient(45deg, rgba(102,126,234,0.15), rgba(118,75,162,0.15)); }
    .upload-icon { font-size: 4rem; color: #667eea; margin-bottom: 20px; }
    .file-input { display: none; }
    .upload-text { font-size: 1.2rem; color: #666; margin-bottom: 15px; }
    .file-types { font-size: 0.9rem; color: #999; }
    .selected-file { background: rgba(102,126,234,0.1); border: 2px solid #667eea; border-radius: 8px; padding: 15px; margin: 15px 0; text-align: left; }
    .file-name { font-weight: bold; color: #667eea; margin-bottom: 5px; }
    .file-size { color: #666; font-size: 0.9rem; }

    .analyze-btn { background: linear-gradient(135deg,#667eea,#764ba2); color: white; border: none; padding: 15px 30px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; transition: all .3s ease; box-shadow: 0 5px 15px rgba(102,126,234,0.3); margin-top: 20px; opacity: .5; pointer-events: none; }
    .analyze-btn:enabled { opacity: 1; pointer-events: all; }
    .analyze-btn:hover:enabled { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(102,126,234,0.4); }
    .demo-btn { background: linear-gradient(135deg,#4caf50,#45a049); color: white; border: none; padding: 12px 25px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all .3s ease; margin-left: 15px; box-shadow: 0 5px 15px rgba(76,175,80,0.3); }
    .demo-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(76,175,80,0.4); }

    /* íƒ­ ê¸°ëŠ¥ */
    .tab-buttons { display: flex; margin-bottom: 20px; background: rgba(255,255,255,0.8); border-radius: 12px; padding: 4px; }
    .tab-btn { flex: 1; padding: 12px 20px; border: none; background: transparent; border-radius: 8px; cursor: pointer; transition: all .3s ease; font-size: 1rem; color: #666; }
    .tab-btn.active { background: linear-gradient(135deg,#667eea,#764ba2); color: white; box-shadow: 0 4px 12px rgba(102,126,234,0.3); }
    .tab-btn:hover:not(.active) { background: rgba(102,126,234,0.1); color: #667eea; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* ì›¹ìº  ë…¹í™” */
    .webcam-container { position: relative; width: 100%; max-width: 640px; margin: 0 auto 20px; border-radius: 15px; overflow: hidden; background: #000; aspect-ratio: 16/9; }
    .webcam-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #667eea; }
    .webcam-overlay.hidden { display: none; }
    .webcam-icon { font-size: 4rem; margin-bottom: 15px; }
    .webcam-text { font-size: 1.2rem; text-align: center; }
    #webcamPreview { width: 100%; height: 100%; object-fit: cover; }
    .recording-controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; }
    .btn-danger { background: linear-gradient(135deg,#e74c3c,#c0392b); color: white; border: none; padding: 12px 25px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all .3s ease; box-shadow: 0 5px 15px rgba(231,76,60,0.3); }
    .btn-danger:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(231,76,60,0.4); }
    .recording-info { display: flex; gap: 20px; justify-content: center; align-items: center; background: rgba(231,76,60,0.1); border: 2px solid rgba(231,76,60,0.3); border-radius: 10px; padding: 12px; font-size: 1rem; color: #e74c3c; }
    .recording-time, .recording-size { font-weight: bold; }
    
    @media (max-width: 768px) {
      .tab-btn { padding: 10px 15px; font-size: 0.9rem; }
      .webcam-container { max-width: 100%; }
      .recording-controls { flex-direction: column; align-items: center; }
      .recording-info { flex-direction: column; gap: 10px; }
    }

    /* í”„ë¡¬í”„íŠ¸ ì„¹ì…˜ */
    .prompt-section { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .prompt-header { text-align: center; margin-bottom: 25px; }
    .prompt-header h3 { font-size: 1.4rem; color: #333; margin-bottom: 8px; }
    .prompt-header p { color: #666; font-size: 1rem; }
    .prompt-display { background: #f8f9ff; border: 2px solid #e1e5ff; border-radius: 12px; padding: 25px; margin-bottom: 20px; min-height: 120px; position: relative; }
    .prompt-text { font-size: 1.3rem; line-height: 1.8; color: #333; text-align: center; word-break: keep-all; }
    .prompt-text.large { font-size: 1.6rem; }
    .prompt-text.editing { background: white; border: 2px solid #667eea; border-radius: 8px; padding: 15px; outline: none; resize: vertical; min-height: 100px; font-family: inherit; }
    .prompt-controls { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: center; }
    .prompt-timer { display: flex; align-items: center; gap: 8px; margin-left: auto; }
    .prompt-timer span { font-family: 'Courier New', monospace; font-size: 1.1rem; color: #667eea; font-weight: bold; min-width: 50px; }
    .timer-active { color: #e74c3c !important; }
    
    @media (max-width: 768px) {
      .prompt-text { font-size: 1.1rem; }
      .prompt-text.large { font-size: 1.4rem; }
      .prompt-controls { justify-content: center; }
      .prompt-timer { margin-left: 0; }
    }

    /* ê²°ê³¼ ì¹´ë“œ ê³µí†µ */
    .results-section { display: none; background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .score-display { text-align: center; margin-bottom: 30px; }
    .score-circle { width: 150px; height: 150px; border-radius: 50%; background: conic-gradient(from 0deg,#667eea 0%,#764ba2 100%); display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; position: relative; }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: white; border-radius: 50%; }
    .score-value { font-size: 2.5rem; font-weight: bold; color: #667eea; z-index: 1; }
    .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap: 20px; margin-bottom: 30px; }
    .metric-card { background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-left: 4px solid #667eea; }
    .metric-title { font-size: 1.05rem; font-weight: bold; margin-bottom: 10px; color: #333; }
    .metric-value { font-size: 1.35rem; color: #667eea; font-weight: bold; margin-bottom: 5px; }
    .metric-description { font-size: 0.9rem; color: #666; }
    .progress-bar { width: 100%; height: 8px; background: #e0e0e0; border-radius: 4px; margin: 10px 0; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(135deg,#667eea,#764ba2); transition: width 1s ease; }

    .coaching-tips { background: #fff; border-radius: 10px; padding: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
    .coaching-tips h3 { color: #333; margin-bottom: 20px; font-size: 1.2rem; }
    .tip-item { background: linear-gradient(135deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05)); border-radius: 8px; padding: 15px; margin-bottom: 12px; border-left: 4px solid #667eea; font-size: 1rem; line-height: 1.5; }

    @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)} }
    .analyzing { animation: pulse 2s infinite; }

        @media (max-width: 768px) {
      .header h1 { font-size: 2rem; }
      .metrics-grid { grid-template-columns: 1fr; }
      .score-circle { width: 120px; height: 120px; }
      .score-value { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ AI ëª¨ì˜ ë©´ì ‘ ë¶„ì„ê¸°</h1>
      <p>AI ê¸°ë°˜ìœ¼ë¡œ ë©´ì ‘ ì˜ìƒì„ ë¶„ì„í•˜ê³ , ì„¸ë¶„í™”ëœ ê°œì„  íŒì„ ì œê³µí•©ë‹ˆë‹¤</p>
    </div>

    <!-- ì˜¨ë³´ë”©: ì´¬ì˜ ë²”ìœ„ ì•ˆë‚´ + ê¸°ë³¸ ë©˜íŠ¸ -->
    <section class="onboarding" id="onboarding">
      <div class="row" style="margin-bottom:14px; gap:12px;">
        <h2>ì²« ì‹œì‘ ê°€ì´ë“œ</h2>
        <span class="tag">ì´¬ì˜ ë²”ìœ„</span>
        <span class="tag">ê¸°ë³¸ ë©˜íŠ¸</span>
        <span class="tag">ì²´í¬ë¦¬ìŠ¤íŠ¸</span>
      </div>
      <div class="onboarding-grid">
        <div class="card">
          <h3>ğŸ“· ì¹´ë©”ë¼ í”„ë ˆì´ë° & ë²”ìœ„ ì§€ì •</h3>
          <div class="guide-figure" aria-label="ê¶Œì¥ í”„ë ˆì´ë° ë„ì‹">
            <!-- ê°„ë‹¨í•œ í”„ë ˆì´ë° ê°€ì´ë“œ SVG -->
            <svg viewBox="0 0 800 450" role="img">
              <defs>
                <linearGradient id="g" x1="0" x2="1">
                  <stop offset="0%" stop-color="#667eea33" />
                  <stop offset="100%" stop-color="#764ba233" />
                </linearGradient>
              </defs>
              <!-- í”„ë ˆì„ -->
              <rect x="20" y="20" width="760" height="410" rx="12" ry="12" fill="url(#g)" stroke="#667eea" stroke-dasharray="8 6" />
              <!-- ì•ˆì „ì˜ì—­ -->
              <rect x="160" y="70" width="480" height="310" rx="10" ry="10" fill="none" stroke="#8b7cf5" stroke-width="2" stroke-dasharray="6 6" />
              <!-- ì¸ë¬¼ ê°€ì´ë“œ -->
              <circle cx="400" cy="170" r="45" fill="#d8defe" stroke="#667eea" />
              <rect x="360" y="215" width="80" height="90" rx="10" fill="#d8defe" stroke="#667eea" />
              <!-- í…ìŠ¤íŠ¸ -->
              <text x="400" y="120" text-anchor="middle" font-size="16" fill="#4b57da">ë¨¸ë¦¬ ê¼­ëŒ€ê¸° ì—¬ìœ  5~10%</text>
              <text x="400" y="330" text-anchor="middle" font-size="16" fill="#4b57da">ê°€ìŠ´ ìœ—ë¶€ë¶„~ì–´ê¹¨ì„  í¬í•¨</text>
              <text x="400" y="400" text-anchor="middle" font-size="14" fill="#555">ëˆˆë†’ì´ = ì¹´ë©”ë¼ ë†’ì´ / ë°°ê²½ì€ ë‹¨ìˆœ & ë°ê²Œ</text>
            </svg>
          </div>
          <ul style="margin-top:12px; padding-left:18px;">
            <li>í™”ë©´ì— <b>ë¨¸ë¦¬~ì–´ê¹¨~ê°€ìŠ´ ìœ—ë¶€ë¶„</b>ì´ ë“¤ì–´ì˜¤ë„ë¡ 1m ì „í›„ ê±°ë¦¬ ìœ ì§€</li>
            <li><b>ëˆˆë†’ì´=ì¹´ë©”ë¼ ë†’ì´</b> ë§ì¶”ê¸° (ë¡œìš°ì•µê¸€/í•˜ì´ì•µê¸€ ì§€ì–‘)</li>
            <li>ì •ë©´ 45~60cm ì•ì— ì‹œì„  ê³ ì •(ì›¹ìº  ë Œì¦ˆ)</li>
            <li>ë°°ê²½ì€ <b>ë‹¨ìƒ‰/ì •ëˆ</b>, ì–¼êµ´ ì •ë©´ <b>ê´‘ì› 1</b> ìœ ì§€</li>
          </ul>
        </div>
        <div class="card">
          <h3>ğŸ—£ï¸ ê¸°ë³¸ ë©˜íŠ¸ í…œí”Œë¦¿ (30~45ì´ˆ)</h3>
          <textarea id="baseScript" class="script">ì•ˆë…•í•˜ì„¸ìš”, [ì´ë¦„]ì…ë‹ˆë‹¤. ì €ëŠ” [ì „ê³µ/ê²½í—˜]ì„ ë°”íƒ•ìœ¼ë¡œ [í•µì‹¬ ì—­ëŸ‰ 1, 2]ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ìµœê·¼ì—ëŠ” [í”„ë¡œì íŠ¸/ì¸í„´/ì„±ê³¼]ì—ì„œ [êµ¬ì²´ì  í–‰ë™]ì„ í†µí•´ [ìˆ˜ì¹˜/ê²°ê³¼]ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ê·€ì‚¬ì—ì„œ [ì§ë¬´]ë¡œì„œ [ê°€ì¹˜ ê¸°ì—¬]ë¥¼ ì‹¤í˜„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</textarea>
          <div class="row" style="margin-top:10px;">
            <button class="btn-copy" id="copyScript">ë³µì‚¬</button>
            <span class="small">íŒ: 120~160 WPMì„ ëª©í‘œë¡œ, ë¬¸ì¥ ë í˜¸í¡ì„ ë¶„ëª…íˆ!</span>
          </div>
        </div>
        <div class="card">
          <h3>âœ… ì´¬ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
          <ul style="padding-left:18px; line-height:1.8;">
            <li>ë°°ê²½ ì†ŒìŒ <b>OFF</b> / í° ì•Œë¦¼ <b>ë¬´ìŒ</b></li>
            <li>ì¡°ëª…: ì–¼êµ´ ì •ë©´ <b>ê·¸ë¦¼ì ìµœì†Œí™”</b></li>
            <li>í”„ë ˆì´ë°: ë¨¸ë¦¬ ìœ—ê³µê°„ 5~10%, ì–´ê¹¨ì„  í¬í•¨</li>
            <li>ë Œì¦ˆ ì‘ì‹œ í…ŒìŠ¤íŠ¸(3ì´ˆ) â†’ ë…¹í™” ì‹œì‘</li>
          </ul>
          <div class="row" style="margin-top:14px;">
            <button class="btn-primary" id="startUpload">ì—…ë¡œë“œë¡œ ì´ë™</button>
            <button class="btn-ghost" id="skipOnboarding">ë‹¤ìŒì— ë³´ê¸°</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ì—…ë¡œë“œ/ë…¹í™” ì„¹ì…˜ -->
    <div class="upload-section" id="uploadSection">
      <!-- íƒ­ ë²„íŠ¼ -->
      <div class="tab-buttons">
        <button class="tab-btn active" id="uploadTab">ğŸ“ íŒŒì¼ ì—…ë¡œë“œ</button>
        <button class="tab-btn" id="recordTab">ğŸ¥ ì›¹ìº  ë…¹í™”</button>
        </div>

      <!-- íŒŒì¼ ì—…ë¡œë“œ íƒ­ -->
      <div class="tab-content active" id="uploadContent">
        <div class="upload-zone" id="uploadZone" onclick="document.getElementById('videoFile').click()">
          <div class="upload-icon">ğŸ“</div>
                <div class="upload-text">í”„ë ˆì  í…Œì´ì…˜ ì˜ìƒì„ ì—…ë¡œë“œí•˜ì„¸ìš”</div>
                <div class="file-types">ì§€ì› í˜•ì‹: MP4, AVI, MOV, WebM</div>
          <input type="file" id="videoFile" class="file-input" accept="video/*" />
        </div>
      </div>

      <!-- ì›¹ìº  ë…¹í™” íƒ­ -->
      <div class="tab-content" id="recordContent">
        <div class="webcam-container">
          <video id="webcamPreview" autoplay muted playsinline></video>
          <div class="webcam-overlay" id="webcamOverlay">
            <div class="webcam-icon">ğŸ¥</div>
            <div class="webcam-text">ì›¹ìº ì„ ì‹œì‘í•˜ë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</div>
          </div>
        </div>
        <div class="recording-controls">
          <button class="btn-primary" id="startWebcamBtn">ğŸ“¹ ì›¹ìº  ì‹œì‘</button>
          <button class="btn-primary" id="startRecordBtn" style="display:none;">ğŸ”´ ë…¹í™” ì‹œì‘</button>
          <button class="btn-danger" id="stopRecordBtn" style="display:none;">â¹ï¸ ë…¹í™” ì¤‘ì§€</button>
          <button class="btn-ghost" id="stopWebcamBtn" style="display:none;">ğŸ“¹ ì›¹ìº  ì¢…ë£Œ</button>
        </div>
        <div class="recording-info" id="recordingInfo" style="display:none;">
          <span class="recording-time">âºï¸ <span id="recordingTime">00:00</span></span>
          <span class="recording-size">ğŸ“¦ <span id="recordingSize">0 MB</span></span>
        </div>
            </div>
            
      <!-- ì„ íƒëœ íŒŒì¼/ë…¹í™”ëœ ì˜ìƒ ì •ë³´ -->
      <div id="selectedFile" class="selected-file" style="display:none;">
                <div class="file-name"></div>
                <div class="file-size"></div>
            </div>
            
      <div style="text-align:center; margin-top: 20px;">
        <button class="analyze-btn" id="analyzeBtn" disabled>ğŸ” ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
        <button class="demo-btn" id="demoBtn">ğŸ¬ ë°ëª¨ ì‹¤í–‰</button>
      </div>
    </div>

    <!-- í”„ë¡¬í”„íŠ¸ ì„¹ì…˜ -->
    <div class="prompt-section" id="promptSection">
      <div class="prompt-header">
        <h3>ğŸ“ ë©´ì ‘ ëŒ€ë³¸ í”„ë¡¬í”„í„°</h3>
        <p>ì˜ìƒ ì´¬ì˜ ì‹œ ì•„ë˜ í…ìŠ¤íŠ¸ë¥¼ ë³´ë©° ìì—°ìŠ¤ëŸ½ê²Œ ì½ì–´ë³´ì„¸ìš”</p>
      </div>
      <div class="prompt-display" id="promptDisplay">
        <div class="prompt-text">
          ì•ˆë…•í•˜ì„¸ìš”, [ì´ë¦„]ì…ë‹ˆë‹¤. ì €ëŠ” [ì „ê³µ/ê²½í—˜]ì„ ë°”íƒ•ìœ¼ë¡œ [í•µì‹¬ ì—­ëŸ‰ 1, 2]ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. 
          ìµœê·¼ì—ëŠ” [í”„ë¡œì íŠ¸/ì¸í„´/ì„±ê³¼]ì—ì„œ [êµ¬ì²´ì  í–‰ë™]ì„ í†µí•´ [ìˆ˜ì¹˜/ê²°ê³¼]ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 
          ì´ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ê·€ì‚¬ì—ì„œ [ì§ë¬´]ë¡œì„œ [ê°€ì¹˜ ê¸°ì—¬]ë¥¼ ì‹¤í˜„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.
        </div>
      </div>
      <div class="prompt-controls">
        <button class="btn-ghost" id="editPromptBtn">âœï¸ ìˆ˜ì •</button>
        <button class="btn-ghost" id="fontSizeBtn">ğŸ”¤ ê¸€ì í¬ê¸°</button>
        <button class="btn-ghost" id="resetPromptBtn">ğŸ”„ ê¸°ë³¸ê°’</button>
        <div class="prompt-timer">
          <span id="timerDisplay">00:00</span>
          <button class="btn-copy" id="startTimerBtn">â±ï¸ íƒ€ì´ë¨¸</button>
        </div>
            </div>
        </div>

    <!-- ê²°ê³¼ ì„¹ì…˜ -->
        <div class="results-section" id="resultsSection">
            <div class="score-display">
        <div class="score-circle"><div class="score-value" id="totalScore">0</div></div>
                <h2>ì „ì²´ ì ìˆ˜</h2>
                <p>5ì  ë§Œì  ê¸°ì¤€</p>
            </div>

      <div class="metrics-grid" id="metricsGrid">
        <!-- ê¸°ì¡´ ë©”íŠ¸ë¦­ -->
        <div class="metric-card"><div class="metric-title">ğŸ—£ï¸ ë§í•˜ê¸° ì†ë„</div><div class="metric-value" id="wpmValue">0 WPM</div><div class="progress-bar"><div class="progress-fill" id="wpmProgress"></div></div><div class="metric-description">ì ì • ì†ë„: 140-180 ë‹¨ì–´/ë¶„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ”Š ìŒì„± ë³¼ë¥¨</div><div class="metric-value" id="volumeValue">ì ì •</div><div class="progress-bar"><div class="progress-fill" id="volumeProgress"></div></div><div class="metric-description">ì¼ì •í•˜ê³  ëª…ë£Œí•œ ìŒì„±</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ‘€ ì‹œì„  ì§‘ì¤‘ë„</div><div class="metric-value" id="gazeValue">0%</div><div class="progress-bar"><div class="progress-fill" id="gazeProgress"></div></div><div class="metric-description">ì¹´ë©”ë¼ë¥¼ ë°”ë¼ë³¸ ì‹œê°„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ’º ìì„¸ ì•ˆì •ì„±</div><div class="metric-value" id="postureValue">0%</div><div class="progress-bar"><div class="progress-fill" id="postureProgress"></div></div><div class="metric-description">ë°”ë¥¸ ìì„¸ ìœ ì§€ë„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ˜Š í‘œì • ê´€ë¦¬</div><div class="metric-value" id="expressionValue">0%</div><div class="progress-bar"><div class="progress-fill" id="expressionProgress"></div></div><div class="metric-description">ì ì ˆí•œ í‘œì • ë³€í™”</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ’¡ í™˜ê²½ ì ìˆ˜</div><div class="metric-value" id="environmentValue">0ì </div><div class="progress-bar"><div class="progress-fill" id="environmentProgress"></div></div><div class="metric-description">ì¡°ëª… ë° ë°°ê²½ í’ˆì§ˆ</div></div>
        <!-- ì„¸ë¶„í™” ì¶”ê°€ ë©”íŠ¸ë¦­ -->
        <div class="metric-card"><div class="metric-title">ğŸ§© ë¶ˆí•„ìš”ì–´ ë¹„ìœ¨(ìŒ/ì–´)</div><div class="metric-value" id="fillerValue">0%</div><div class="progress-bar"><div class="progress-fill" id="fillerProgress"></div></div><div class="metric-description">ì´ ë°œí™” ëŒ€ë¹„ ë¶ˆí•„ìš”ì–´ ë¹„ì¤‘</div></div>
        <div class="metric-card"><div class="metric-title">â¸ï¸ ì¹¨ë¬µ ë¹„ìœ¨</div><div class="metric-value" id="silenceValue">0%</div><div class="progress-bar"><div class="progress-fill" id="silenceProgress"></div></div><div class="metric-description">ì˜ë„ëœ/ë¹„ì˜ë„ëœ ì •ì§€ êµ¬ë¶„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ” ë§ë íë¦¼(ì–´ë§ê°•ì„¸)</div><div class="metric-value" id="endingValue">0%</div><div class="progress-bar"><div class="progress-fill" id="endingProgress"></div></div><div class="metric-description">ë¬¸ì¥ ë§ë¯¸ ëª…ë£Œë„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ™‚ ë¯¸ì†Œ ìœ ì§€ ë¹„ìœ¨</div><div class="metric-value" id="smileValue">0%</div><div class="progress-bar"><div class="progress-fill" id="smileProgress"></div></div><div class="metric-description">ê¸ì •ì  í‘œì • ìœ ì§€ ì‹œê°„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸª ê³ ê°œ í”ë“¤ë¦¼</div><div class="metric-value" id="headMoveValue">0%</div><div class="progress-bar"><div class="progress-fill" id="headMoveProgress"></div></div><div class="metric-description">ìˆ˜í‰/ìˆ˜ì§ í”ë“¤ë¦¼ ì•ˆì •ë„</div></div>
        <div class="metric-card"><div class="metric-title">ğŸ‘ï¸ ê¹œë¹¡ì„ ë¹ˆë„</div><div class="metric-value" id="blinkValue">0/min</div><div class="progress-bar"><div class="progress-fill" id="blinkProgress"></div></div><div class="metric-description">ë¶„ë‹¹ 10~20íšŒ ê¶Œì¥</div></div>
            </div>

            <div class="coaching-tips">
                <h3>ğŸ¯ ë§ì¶¤ ê°œì„  íŒ</h3>
        <div id="coachingTips"></div>
            </div>
        </div>
    </div>

    <script>
    // ===== ì˜¨ë³´ë”© ë™ì‘ =====
    const onboarding = document.getElementById('onboarding');
    const startUpload = document.getElementById('startUpload');
    const skipOnboarding = document.getElementById('skipOnboarding');
    const copyBtn = document.getElementById('copyScript');
    const baseScript = document.getElementById('baseScript');

    startUpload?.addEventListener('click', () => {
      document.getElementById('uploadSection').scrollIntoView({ behavior: 'smooth' });
    });
    skipOnboarding?.addEventListener('click', () => {
      onboarding.style.display = 'none';
      document.getElementById('uploadSection').scrollIntoView({ behavior: 'smooth' });
    });
    copyBtn?.addEventListener('click', async () => {
      try { await navigator.clipboard.writeText(baseScript.value); copyBtn.textContent = 'ë³µì‚¬ë¨!'; setTimeout(()=>copyBtn.textContent='ë³µì‚¬', 1200); } catch(e) { alert('ë³µì‚¬ ì‹¤íŒ¨: ' + e); }
    });

    // ===== í”„ë¡¬í”„íŠ¸ ê¸°ëŠ¥ =====
    const promptText = document.querySelector('.prompt-text');
    const editPromptBtn = document.getElementById('editPromptBtn');
    const fontSizeBtn = document.getElementById('fontSizeBtn');
    const resetPromptBtn = document.getElementById('resetPromptBtn');
    const startTimerBtn = document.getElementById('startTimerBtn');
    const timerDisplay = document.getElementById('timerDisplay');
    
    let isEditing = false;
    let isLargeFont = false;
    let timer = null;
    let seconds = 0;
    
    const defaultPromptText = "ì•ˆë…•í•˜ì„¸ìš”, [ì´ë¦„]ì…ë‹ˆë‹¤. ì €ëŠ” [ì „ê³µ/ê²½í—˜]ì„ ë°”íƒ•ìœ¼ë¡œ [í•µì‹¬ ì—­ëŸ‰ 1, 2]ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ìµœê·¼ì—ëŠ” [í”„ë¡œì íŠ¸/ì¸í„´/ì„±ê³¼]ì—ì„œ [êµ¬ì²´ì  í–‰ë™]ì„ í†µí•´ [ìˆ˜ì¹˜/ê²°ê³¼]ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ê·€ì‚¬ì—ì„œ [ì§ë¬´]ë¡œì„œ [ê°€ì¹˜ ê¸°ì—¬]ë¥¼ ì‹¤í˜„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.";
    
    // í”„ë¡¬í”„íŠ¸ ìˆ˜ì • ê¸°ëŠ¥
    editPromptBtn?.addEventListener('click', () => {
      if (!isEditing) {
        // ìˆ˜ì • ëª¨ë“œ ì‹œì‘
        const currentText = promptText.textContent.trim();
        promptText.innerHTML = `<textarea class="prompt-text editing">${currentText}</textarea>`;
        const textarea = promptText.querySelector('textarea');
        textarea.focus();
        textarea.select();
        editPromptBtn.textContent = 'âœ… ì €ì¥';
        isEditing = true;
        
        // ì—”í„°í‚¤ë¡œ ì €ì¥
        textarea.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && e.ctrlKey) {
            editPromptBtn.click();
          }
        });
      } else {
        // ì €ì¥
        const textarea = promptText.querySelector('textarea');
        const newText = textarea.value.trim() || defaultPromptText;
        promptText.innerHTML = newText;
        editPromptBtn.textContent = 'âœï¸ ìˆ˜ì •';
        isEditing = false;
      }
    });
    
    // ê¸€ì í¬ê¸° ë³€ê²½
    fontSizeBtn?.addEventListener('click', () => {
      if (!isEditing) {
        isLargeFont = !isLargeFont;
        promptText.classList.toggle('large', isLargeFont);
        fontSizeBtn.textContent = isLargeFont ? 'ğŸ”¤ ì‘ê²Œ' : 'ğŸ”¤ í¬ê²Œ';
      }
    });
    
    // ê¸°ë³¸ê°’ ë³µì›
    resetPromptBtn?.addEventListener('click', () => {
      if (confirm('ê¸°ë³¸ í…œí”Œë¦¿ìœ¼ë¡œ ë˜ëŒë¦¬ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        promptText.innerHTML = defaultPromptText;
        if (isEditing) {
          editPromptBtn.textContent = 'âœï¸ ìˆ˜ì •';
          isEditing = false;
        }
      }
    });
    
    // íƒ€ì´ë¨¸ ê¸°ëŠ¥
    startTimerBtn?.addEventListener('click', () => {
      if (!timer) {
        // íƒ€ì´ë¨¸ ì‹œì‘
        seconds = 0;
        timer = setInterval(() => {
          seconds++;
          const mins = Math.floor(seconds / 60);
          const secs = seconds % 60;
          timerDisplay.textContent = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
        }, 1000);
        startTimerBtn.textContent = 'â¹ï¸ ì •ì§€';
        timerDisplay.classList.add('timer-active');
      } else {
        // íƒ€ì´ë¨¸ ì •ì§€
        clearInterval(timer);
        timer = null;
        startTimerBtn.textContent = 'â±ï¸ íƒ€ì´ë¨¸';
        timerDisplay.classList.remove('timer-active');
      }
    });

    // ===== íƒ­ ê¸°ëŠ¥ =====
    const uploadTab = document.getElementById('uploadTab');
    const recordTab = document.getElementById('recordTab');
    const uploadContent = document.getElementById('uploadContent');
    const recordContent = document.getElementById('recordContent');

    uploadTab?.addEventListener('click', () => {
      uploadTab.classList.add('active');
      recordTab.classList.remove('active');
      uploadContent.classList.add('active');
      recordContent.classList.remove('active');
    });

    recordTab?.addEventListener('click', () => {
      recordTab.classList.add('active');
      uploadTab.classList.remove('active');
      recordContent.classList.add('active');
      uploadContent.classList.remove('active');
    });

    // ===== ì›¹ìº  ë…¹í™” ê¸°ëŠ¥ =====
    let mediaStream = null;
    let mediaRecorder = null;
    let recordedChunks = [];
    let recordingTimer = null;
    let recordingSeconds = 0;
    let recordedBlob = null;

    const webcamPreview = document.getElementById('webcamPreview');
    const webcamOverlay = document.getElementById('webcamOverlay');
    const startWebcamBtn = document.getElementById('startWebcamBtn');
    const startRecordBtn = document.getElementById('startRecordBtn');
    const stopRecordBtn = document.getElementById('stopRecordBtn');
    const stopWebcamBtn = document.getElementById('stopWebcamBtn');
    const recordingInfo = document.getElementById('recordingInfo');
    const recordingTime = document.getElementById('recordingTime');
    const recordingSize = document.getElementById('recordingSize');

    // ì›¹ìº  ì‹œì‘
    startWebcamBtn?.addEventListener('click', async () => {
      try {
        mediaStream = await navigator.mediaDevices.getUserMedia({ 
          video: { width: 1280, height: 720, facingMode: 'user' }, 
          audio: true 
        });
        
        webcamPreview.srcObject = mediaStream;
        webcamOverlay.classList.add('hidden');
        
        startWebcamBtn.style.display = 'none';
        startRecordBtn.style.display = 'inline-block';
        stopWebcamBtn.style.display = 'inline-block';
        
      } catch (error) {
        alert('ì›¹ìº  ì ‘ê·¼ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ì¹´ë©”ë¼ì™€ ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.');
        console.error('ì›¹ìº  ì ‘ê·¼ ì˜¤ë¥˜:', error);
      }
    });

    // ë…¹í™” ì‹œì‘
    startRecordBtn?.addEventListener('click', () => {
      if (!mediaStream) return;
      
      recordedChunks = [];
      recordingSeconds = 0;
      
      try {
        mediaRecorder = new MediaRecorder(mediaStream, {
          mimeType: 'video/webm;codecs=vp9,opus'
        });
        
        mediaRecorder.ondataavailable = (event) => {
          if (event.data.size > 0) {
            recordedChunks.push(event.data);
            // ì‹¤ì‹œê°„ í¬ê¸° ì—…ë°ì´íŠ¸
            const totalSize = recordedChunks.reduce((size, chunk) => size + chunk.size, 0);
            recordingSize.textContent = (totalSize / 1024 / 1024).toFixed(1) + ' MB';
          }
        };
        
        mediaRecorder.onstop = () => {
          recordedBlob = new Blob(recordedChunks, { type: 'video/webm' });
          
          // ë…¹í™”ëœ íŒŒì¼ì„ selectedFileë¡œ ì„¤ì •
          selectedFile = new File([recordedBlob], `recorded_${Date.now()}.webm`, { type: 'video/webm' });
            
            // íŒŒì¼ ì •ë³´ í‘œì‹œ
          const selectedFileDiv = document.getElementById('selectedFile');
            selectedFileDiv.style.display = 'block';
          selectedFileDiv.querySelector('.file-name').textContent = selectedFile.name;
          selectedFileDiv.querySelector('.file-size').textContent = formatFileSize(selectedFile.size);
            
            // ë¶„ì„ ë²„íŠ¼ í™œì„±í™”
            analyzeBtn.disabled = false;
          
          alert('ë…¹í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ë¶„ì„ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
        };
        
        mediaRecorder.start(100); // 100msë§ˆë‹¤ ë°ì´í„° ìˆ˜ì§‘
        
        // UI ì—…ë°ì´íŠ¸
        startRecordBtn.style.display = 'none';
        stopRecordBtn.style.display = 'inline-block';
        recordingInfo.style.display = 'flex';
        
        // íƒ€ì´ë¨¸ ì‹œì‘
        recordingTimer = setInterval(() => {
          recordingSeconds++;
          const mins = Math.floor(recordingSeconds / 60);
          const secs = recordingSeconds % 60;
          recordingTime.textContent = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
        }, 1000);
        
      } catch (error) {
        alert('ë…¹í™” ì‹œì‘ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
        console.error('ë…¹í™” ì˜¤ë¥˜:', error);
      }
    });

    // ë…¹í™” ì¤‘ì§€
    stopRecordBtn?.addEventListener('click', () => {
      if (mediaRecorder && mediaRecorder.state === 'recording') {
        mediaRecorder.stop();
      }
      
      if (recordingTimer) {
        clearInterval(recordingTimer);
        recordingTimer = null;
      }
      
      // UI ì—…ë°ì´íŠ¸
      stopRecordBtn.style.display = 'none';
      startRecordBtn.style.display = 'inline-block';
      recordingInfo.style.display = 'none';
    });

    // ì›¹ìº  ì¢…ë£Œ
    stopWebcamBtn?.addEventListener('click', () => {
      if (mediaStream) {
        mediaStream.getTracks().forEach(track => track.stop());
        mediaStream = null;
      }
      
      webcamPreview.srcObject = null;
      webcamOverlay.classList.remove('hidden');
      
      // ë…¹í™” ì¤‘ì´ë©´ ì¤‘ì§€
      if (mediaRecorder && mediaRecorder.state === 'recording') {
        stopRecordBtn.click();
      }
      
      // UI ë¦¬ì…‹
      startWebcamBtn.style.display = 'inline-block';
      startRecordBtn.style.display = 'none';
      stopRecordBtn.style.display = 'none';
      stopWebcamBtn.style.display = 'none';
      recordingInfo.style.display = 'none';
    });

    // ===== ì—…ë¡œë“œ ì²˜ë¦¬ =====
    let selectedFile = null;
    const fileInput = document.getElementById('videoFile');
    const uploadZone = document.getElementById('uploadZone');
    const selectedFileDiv = document.getElementById('selectedFile');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const demoBtn = document.getElementById('demoBtn');

    function formatFileSize(bytes){ if(bytes===0) return '0 Bytes'; const k=1024; const sizes=['Bytes','KB','MB','GB']; const i=Math.floor(Math.log(bytes)/Math.log(k)); return parseFloat((bytes/Math.pow(k,i)).toFixed(2)) + ' ' + sizes[i]; }

    function handleFileSelect(event){ const file = event.target.files?.[0]; if(!file) return; selectedFile=file; selectedFileDiv.style.display='block'; selectedFileDiv.querySelector('.file-name').textContent=file.name; selectedFileDiv.querySelector('.file-size').textContent=formatFileSize(file.size); analyzeBtn.disabled=false; }

    fileInput.addEventListener('change', handleFileSelect);

    uploadZone.addEventListener('dragover', (e)=>{ e.preventDefault(); uploadZone.classList.add('dragover'); });
    uploadZone.addEventListener('dragleave', ()=> uploadZone.classList.remove('dragover'));
    uploadZone.addEventListener('drop', (e)=>{ e.preventDefault(); uploadZone.classList.remove('dragover'); const files=e.dataTransfer.files; if(files.length>0){ handleFileSelect({ target:{ files } }); }});

    // ===== ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ =====
    analyzeBtn.addEventListener('click', ()=>{ if(!selectedFile) return; simulateAnalysis(); });
    demoBtn.addEventListener('click', runDemo);

    function simulateAnalysis(){
      analyzeBtn.textContent='ğŸ”„ ë¶„ì„ ì¤‘...'; analyzeBtn.disabled=true; analyzeBtn.classList.add('analyzing');
      // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ ì—…ë¡œë“œ ë° ë¶„ì„ í›„ ê²°ê³¼ ìˆ˜ì‹ 
      setTimeout(()=>{ showResults(); analyzeBtn.textContent='ğŸ” ë¶„ì„ ì‹œì‘í•˜ê¸°'; analyzeBtn.disabled=false; analyzeBtn.classList.remove('analyzing'); }, 2600);
    }

    function showResults(){ const resultsSection=document.getElementById('resultsSection'); resultsSection.style.display='block'; resultsSection.scrollIntoView({ behavior:'smooth' }); animateResults(); }

    function animateValue(id, start, end, duration){ const el=document.getElementById(id); const st=performance.now(); function update(t){ const p=Math.min((t-st)/duration,1); const cur=start+(end-start)*p; el.textContent=(id==='totalScore'?cur.toFixed(1):Math.round(cur)); if(p<1) requestAnimationFrame(update); } requestAnimationFrame(update); }

    // ëœë¤í•˜ì§€ë§Œ í˜„ì‹¤ì ì¸ ë¶„ì„ ê²°ê³¼ ìƒì„±
    function generateRandomResults() {
      // ê¸°ë³¸ ì„±ëŠ¥ ë ˆë²¨ì„ ëœë¤í•˜ê²Œ ì„¤ì • (1: ì´ˆê¸‰, 2: ì¤‘ê¸‰, 3: ê³ ê¸‰)
      const performanceLevel = Math.random() < 0.3 ? 1 : Math.random() < 0.7 ? 2 : 3;
      
      let baseScores;
      if (performanceLevel === 1) {
        // ì´ˆê¸‰ì ì ìˆ˜ ë²”ìœ„
        baseScores = {
          totalScore: 2.5 + Math.random() * 1.2, // 2.5-3.7
          wpm: 100 + Math.random() * 40, // 100-140
          volume: 60 + Math.random() * 25, // 60-85
          gaze: 40 + Math.random() * 30, // 40-70
          posture: 50 + Math.random() * 25, // 50-75
          expression: 30 + Math.random() * 35, // 30-65
          environment: 2.5 + Math.random() * 1.5, // 2.5-4.0
          filler: 12 + Math.random() * 8, // 12-20%
          silence: 15 + Math.random() * 10, // 15-25%
          ending: 45 + Math.random() * 25, // 45-70%
          smile: 25 + Math.random() * 30, // 25-55%
          headMove: 45 + Math.random() * 25, // 45-70%
          blinkPerMin: 8 + Math.random() * 12 // 8-20
        };
      } else if (performanceLevel === 2) {
        // ì¤‘ê¸‰ì ì ìˆ˜ ë²”ìœ„
        baseScores = {
          totalScore: 3.5 + Math.random() * 1.0, // 3.5-4.5
          wpm: 130 + Math.random() * 40, // 130-170
          volume: 70 + Math.random() * 20, // 70-90
          gaze: 60 + Math.random() * 25, // 60-85
          posture: 65 + Math.random() * 25, // 65-90
          expression: 55 + Math.random() * 25, // 55-80
          environment: 3.5 + Math.random() * 1.2, // 3.5-4.7
          filler: 5 + Math.random() * 10, // 5-15%
          silence: 8 + Math.random() * 12, // 8-20%
          ending: 60 + Math.random() * 25, // 60-85%
          smile: 45 + Math.random() * 30, // 45-75%
          headMove: 65 + Math.random() * 25, // 65-90%
          blinkPerMin: 10 + Math.random() * 10 // 10-20
        };
      } else {
        // ê³ ê¸‰ì ì ìˆ˜ ë²”ìœ„
        baseScores = {
          totalScore: 4.2 + Math.random() * 0.8, // 4.2-5.0
          wpm: 150 + Math.random() * 30, // 150-180
          volume: 80 + Math.random() * 15, // 80-95
          gaze: 75 + Math.random() * 20, // 75-95
          posture: 80 + Math.random() * 15, // 80-95
          expression: 70 + Math.random() * 25, // 70-95
          environment: 4.0 + Math.random() * 1.0, // 4.0-5.0
          filler: 2 + Math.random() * 6, // 2-8%
          silence: 3 + Math.random() * 8, // 3-11%
          ending: 75 + Math.random() * 20, // 75-95%
          smile: 65 + Math.random() * 25, // 65-90%
          headMove: 80 + Math.random() * 15, // 80-95%
          blinkPerMin: 12 + Math.random() * 8 // 12-20
        };
      }

      // ì¼ë¶€ ë©”íŠ¸ë¦­ì— ìƒê´€ê´€ê³„ ì¶”ê°€ (ë” í˜„ì‹¤ì ìœ¼ë¡œ)
      if (baseScores.gaze < 60) {
        baseScores.expression = Math.max(30, baseScores.expression * 0.8); // ì‹œì„  ì§‘ì¤‘ë„ê°€ ë‚®ìœ¼ë©´ í‘œì •ë„ ì–´ìƒ‰
      }
      
      if (baseScores.filler > 12) {
        baseScores.wpm = Math.max(80, baseScores.wpm * 0.9); // ë¶ˆí•„ìš”ì–´ê°€ ë§ìœ¼ë©´ ë§ì†ë„ ê°ì†Œ
      }

      // í™˜ê²½ ì ìˆ˜ê°€ ë‚®ìœ¼ë©´ ì „ì²´ì ìœ¼ë¡œ ì•½ê°„ ê°ì 
      if (baseScores.environment < 3.0) {
        baseScores.totalScore = Math.max(1.5, baseScores.totalScore * 0.9);
      }

      // ê°’ë“¤ì„ ì •ìˆ˜/ì†Œìˆ˜ì ìœ¼ë¡œ ì ì ˆíˆ ë°˜ì˜¬ë¦¼
      return {
        totalScore: Math.round(baseScores.totalScore * 10) / 10,
        wpm: Math.round(baseScores.wpm),
        volume: Math.round(baseScores.volume),
        gaze: Math.round(baseScores.gaze),
        posture: Math.round(baseScores.posture),
        expression: Math.round(baseScores.expression),
        environment: Math.round(baseScores.environment * 10) / 10,
        filler: Math.round(baseScores.filler),
        silence: Math.round(baseScores.silence),
        ending: Math.round(baseScores.ending),
        smile: Math.round(baseScores.smile),
        headMove: Math.round(baseScores.headMove),
        blinkPerMin: Math.round(baseScores.blinkPerMin)
      };
    }

        function animateResults(){
      // ëœë¤ ë¶„ì„ ê²°ê³¼ ìƒì„± (ì‹¤ì œ AI ë¶„ì„ ê²°ê³¼ì²˜ëŸ¼ ë³´ì´ë„ë¡)
      const results = generateRandomResults();

      animateValue('totalScore', 0, results.totalScore, 1800);

      setTimeout(()=>{ document.getElementById('wpmValue').textContent=results.wpm+' WPM'; document.getElementById('wpmProgress').style.width=Math.min(100,(results.wpm/180)*100)+'%'; }, 300);
      setTimeout(()=>{ document.getElementById('volumeValue').textContent=results.volume+'%'; document.getElementById('volumeProgress').style.width=results.volume+'%'; }, 550);
      setTimeout(()=>{ document.getElementById('gazeValue').textContent=results.gaze+'%'; document.getElementById('gazeProgress').style.width=results.gaze+'%'; }, 800);
      setTimeout(()=>{ document.getElementById('postureValue').textContent=results.posture+'%'; document.getElementById('postureProgress').style.width=results.posture+'%'; }, 1050);
      setTimeout(()=>{ document.getElementById('expressionValue').textContent=results.expression+'%'; document.getElementById('expressionProgress').style.width=results.expression+'%'; }, 1300);
      setTimeout(()=>{ document.getElementById('environmentValue').textContent=results.environment.toFixed(1)+'ì '; document.getElementById('environmentProgress').style.width=(results.environment/5)*100+'%'; }, 1550);

      // ì¶”ê°€ ë©”íŠ¸ë¦­ ì±„ìš°ê¸°
      setTimeout(()=>{ document.getElementById('fillerValue').textContent=results.filler+'%'; document.getElementById('fillerProgress').style.width=results.filler+'%'; }, 1700);
      setTimeout(()=>{ document.getElementById('silenceValue').textContent=results.silence+'%'; document.getElementById('silenceProgress').style.width=results.silence+'%'; }, 1850);
      setTimeout(()=>{ document.getElementById('endingValue').textContent=results.ending+'%'; document.getElementById('endingProgress').style.width=results.ending+'%'; }, 2000);
      setTimeout(()=>{ document.getElementById('smileValue').textContent=results.smile+'%'; document.getElementById('smileProgress').style.width=results.smile+'%'; }, 2150);
      setTimeout(()=>{ document.getElementById('headMoveValue').textContent=results.headMove+'%'; document.getElementById('headMoveProgress').style.width=results.headMove+'%'; }, 2300);
      setTimeout(()=>{ document.getElementById('blinkValue').textContent=results.blinkPerMin+'/min'; const pct=Math.min(100, (results.blinkPerMin/20)*100); document.getElementById('blinkProgress').style.width=pct+'%'; }, 2450);

      setTimeout(()=> showCoachingTips(results), 2600);
    }

    function showCoachingTips(r){
      const tipsContainer=document.getElementById('coachingTips');
      tipsContainer.innerHTML='';
      const tips = generateCoachingTips(r);
      tips.forEach((tip, i)=>{ setTimeout(()=>{ const el=document.createElement('div'); el.className='tip-item'; el.textContent=tip; tipsContainer.appendChild(el); }, i*350); });
    }

    function generateCoachingTips(r){
      const t=[];
      
      // ì ìˆ˜ë³„ ìš°ì„ ìˆœìœ„ íŒ ìƒì„±
      const issues = [];
      
      // ê° ë©”íŠ¸ë¦­ì˜ ë¬¸ì œì ê³¼ ì¤‘ìš”ë„ í‰ê°€
      if(r.wpm < 120) issues.push({priority: 9, tip: `ğŸ—£ï¸ ë§ì†ë„ê°€ ë§¤ìš° ëŠë¦½ë‹ˆë‹¤(${r.wpm} WPM). 140-160 WPMì„ ëª©í‘œë¡œ ì—°ìŠµí•˜ì„¸ìš”.`});
      else if(r.wpm < 140) issues.push({priority: 6, tip: `ğŸ—£ï¸ ë§ì†ë„ë¥¼ ì•½ê°„ ì˜¬ë ¤ë³´ì„¸ìš”(${r.wpm} WPM). ìì‹ ê° ìˆê²Œ ë˜ë°•ë˜ë°• ë§í•´ë³´ì„¸ìš”.`});
      else if(r.wpm > 200) issues.push({priority: 8, tip: 'â±ï¸ ë§ì†ë„ê°€ ë„ˆë¬´ ë¹ ë¦…ë‹ˆë‹¤. ì²­ì¤‘ì´ ë”°ë¼ì˜¬ ìˆ˜ ìˆë„ë¡ ì²œì²œíˆ ë§í•˜ì„¸ìš”.'});
      else if(r.wpm > 180) issues.push({priority: 5, tip: 'â±ï¸ ë§ì†ë„ë¥¼ 10% ì •ë„ ë‚®ì¶° ë¬¸ì¥ ë í˜¸í¡ì„ ë¶„ëª…íˆ í•´ë³´ì„¸ìš”.'});
      
      if(r.gaze < 50) issues.push({priority: 10, tip: `ğŸ‘€ ì‹œì„  ì§‘ì¤‘ë„ê°€ ë‚®ìŠµë‹ˆë‹¤(${r.gaze}%). ì¹´ë©”ë¼ë¥¼ ì •ë©´ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”.`});
      else if(r.gaze < 70) issues.push({priority: 7, tip: 'ğŸ‘€ ì¹´ë©”ë¼ ë Œì¦ˆë¥¼ ë” ìì£¼ ë°”ë¼ë³´ì„¸ìš”. í•µì‹¬ ë¬¸ì¥ ì‹œì‘ê³¼ ëì— ë Œì¦ˆ ê³ ì •!'});
      
      if(r.filler > 15) issues.push({priority: 9, tip: `ğŸ§© ë¶ˆí•„ìš”ì–´ê°€ ë§ìŠµë‹ˆë‹¤(${r.filler}%). ë§í•˜ê¸° ì „ 1ì´ˆ ìƒê°í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥´ì„¸ìš”.`});
      else if(r.filler > 8) issues.push({priority: 6, tip: 'ğŸ§© "ìŒ/ì–´"ë¥¼ ì¤„ì´ë ¤ë©´ ë¬¸ì¥ ì‚¬ì´ 0.5ì´ˆ ì§§ì€ ì¹¨ë¬µìœ¼ë¡œ ìƒê° ì •ë¦¬ í›„ ë§í•˜ì„¸ìš”.'});
      
      if(r.smile < 40) issues.push({priority: 8, tip: `ğŸ˜Š í‘œì •ì´ ê²½ì§ë˜ì–´ ìˆìŠµë‹ˆë‹¤(${r.smile}%). ìì—°ìŠ¤ëŸ¬ìš´ ë¯¸ì†Œë¡œ ì¹œê·¼í•¨ì„ í‘œí˜„í•˜ì„¸ìš”.`});
      else if(r.smile < 60) issues.push({priority: 5, tip: 'ğŸ™‚ ì¸ì‚¬/ê²°ë¡  êµ¬ê°„ì—ì„œ ë¯¸ì†Œë¥¼ ìœ ì§€í•˜ë©´ ì‹ ë¢°ê°ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.'});
      
      if(r.posture < 60) issues.push({priority: 7, tip: `ğŸ’º ìì„¸ê°€ ë¶ˆì•ˆì •í•©ë‹ˆë‹¤(${r.posture}%). ë“±ì„ ê³§ê²Œ í´ê³  ì–´ê¹¨ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ìœ ì§€í•˜ì„¸ìš”.`});
      else if(r.posture < 75) issues.push({priority: 4, tip: 'ğŸ’º í—ˆë¦¬ ì„¸ìš°ê³  ì–´ê¹¨ë¥¼ ì‚´ì§ ë’¤ë¡œ! ìƒì²´ í”ë“¤ë¦¼ì„ ì¤„ì—¬ ì•ˆì •ê°ì„ ì£¼ì„¸ìš”.'});
      
      if(r.ending < 60) issues.push({priority: 6, tip: `ğŸ” ë§ëì´ íë ¤ì§‘ë‹ˆë‹¤(${r.ending}%). ë¬¸ì¥ ë§ˆì§€ë§‰ ë‹¨ì–´ê¹Œì§€ ëª…í™•í•˜ê²Œ ë°œìŒí•˜ì„¸ìš”.`});
      else if(r.ending < 75) issues.push({priority: 4, tip: 'ğŸ” ë¬¸ì¥ ë§ë¯¸ì˜ ë§ˆì§€ë§‰ ë‹¨ì–´ë¥¼ ë˜ë ·í•˜ê²Œ. ë‚­ë… ì—°ìŠµìœ¼ë¡œ ì–´ë§ê°•ì„¸ë¥¼ ì‚´ë ¤ë³´ì„¸ìš”.'});
      
      if(r.silence > 20) issues.push({priority: 7, tip: `â¸ï¸ ì¹¨ë¬µ êµ¬ê°„ì´ ê¹ë‹ˆë‹¤(${r.silence}%). í‚¤ì›Œë“œ ë©”ëª¨ë¥¼ ì¤€ë¹„í•´ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°í•˜ì„¸ìš”.`});
      else if(r.silence > 12) issues.push({priority: 3, tip: 'â¸ï¸ ì¹¨ë¬µì´ ê¸¸ë©´ í‚¤ì›Œë“œ ë©”ëª¨ë¥¼ ë³´ê³  ì—°ê²°ì–´(ì˜ˆ: ì²«ì§¸, ë‹¤ìŒìœ¼ë¡œ)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.'});
      
      if(r.environment < 2.5) issues.push({priority: 5, tip: `ğŸ’¡ ì´¬ì˜ í™˜ê²½ì„ ê°œì„ í•˜ì„¸ìš”(${r.environment}ì ). ì¡°ëª…ê³¼ ë°°ê²½ì„ ì •ë¦¬í•´ì£¼ì„¸ìš”.`});
      else if(r.environment < 3.5) issues.push({priority: 3, tip: 'ğŸ’¡ ì •ë©´ 45ë„ ê°ë„ ê´‘ì› 1ê°œ ì¶”ê°€, ë°°ê²½ ëŒ€ë¹„ë¥¼ ë†’ì—¬ ì–¼êµ´ì„ ë°ê²Œ ë³´ì •í•˜ì„¸ìš”.'});
      
      if(r.volume < 70) issues.push({priority: 6, tip: `ğŸ”Š ëª©ì†Œë¦¬ê°€ ì‘ìŠµë‹ˆë‹¤(${r.volume}%). ë³µì‹í˜¸í¡ìœ¼ë¡œ ë” í° ëª©ì†Œë¦¬ë¥¼ ë‚´ë³´ì„¸ìš”.`});
      
      if(r.headMove < 60) issues.push({priority: 4, tip: `ğŸª ê³ ê°œ ì›€ì§ì„ì´ ë§ìŠµë‹ˆë‹¤(${r.headMove}% ì•ˆì •ë„). í•œ ì§€ì ì„ ì‘ì‹œí•˜ë©° ì•ˆì •ê°ì„ ìœ ì§€í•˜ì„¸ìš”.`});
      
      // ìš°ìˆ˜í•œ ê²½ìš° ê²©ë ¤ ë©”ì‹œì§€
      if(r.totalScore >= 4.5) {
        t.push('ğŸ‰ í›Œë¥­í•œ í”„ë ˆì  í…Œì´ì…˜ì…ë‹ˆë‹¤! ì „ë¬¸ì ì´ê³  ìì‹ ê° ìˆëŠ” ëª¨ìŠµì´ ì¸ìƒì ì…ë‹ˆë‹¤.');
      } else if(r.totalScore >= 4.0) {
        t.push('ğŸ‘ ì „ë°˜ì ìœ¼ë¡œ ìš°ìˆ˜í•©ë‹ˆë‹¤! ëª‡ ê°€ì§€ ì„¸ë¶€ì‚¬í•­ë§Œ ë³´ì™„í•˜ë©´ ì™„ë²½í•´ì§‘ë‹ˆë‹¤.');
      } else if(r.totalScore >= 3.0) {
        t.push('ğŸ’ª ê¸°ë³¸ê¸°ëŠ” ê°–ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ê°œì„ ì ì„ ì—°ìŠµí•˜ë©´ í¬ê²Œ í–¥ìƒë  ê²ƒì…ë‹ˆë‹¤.');
      } else {
        t.push('ğŸŒ± ì—°ìŠµí•  ë¶€ë¶„ì´ ë§ì§€ë§Œ ì¶©ë¶„íˆ ê°œì„  ê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì—°ìŠµí•´ë³´ì„¸ìš”.');
      }
      
      // ìš°ì„ ìˆœìœ„ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ìƒìœ„ 3ê°œ ì´ìŠˆ ì„ íƒ
      issues.sort((a, b) => b.priority - a.priority);
      const topIssues = issues.slice(0, 3);
      
      topIssues.forEach(issue => t.push(issue.tip));
      
      // ìµœì†Œ 1ê°œ, ìµœëŒ€ 4ê°œ íŒ ë°˜í™˜
      return t.length > 0 ? t.slice(0, 4) : ['ğŸ‰ ì „ë°˜ì ìœ¼ë¡œ ìš°ìˆ˜í•©ë‹ˆë‹¤! ë™ì¼ ì¡°ê±´ì—ì„œ 3íšŒ ë°˜ë³µ ì´¬ì˜ìœ¼ë¡œ ì•ˆì •ì„±ì„ ë†’ì—¬ë³´ì„¸ìš”.'];
    }

    function runDemo(){ selectedFile = { name:'demo_presentation.mp4', size: 15*1024*1024 }; const selectedFileDiv=document.getElementById('selectedFile'); selectedFileDiv.style.display='block'; selectedFileDiv.querySelector('.file-name').textContent='demo_presentation.mp4'; selectedFileDiv.querySelector('.file-size').textContent='15.0 MB'; analyzeBtn.disabled=false; setTimeout(()=> simulateAnalysis(), 400); }
    </script>
</body>
</html>
