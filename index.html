<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI 모의면접 분석기</title>
    <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333; min-height: 100vh;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

    /* 헤더 */
    .header { text-align: center; margin-bottom: 30px; padding: 30px; background: rgba(255,255,255,0.95); border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .header h1 { font-size: 2.5rem; background: linear-gradient(135deg,#667eea,#764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
    .header p { font-size: 1.1rem; color: #666; }

    /* 온보딩 섹션 */
    .onboarding { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 28px; margin-bottom: 28px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
    .onboarding h2 { font-size: 1.4rem; margin-bottom: 16px; }
    .onboarding-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap: 16px; }
    .card { background: #fff; border-radius: 12px; padding: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); border-left: 4px solid #667eea; }
    .card h3 { font-size: 1.05rem; margin-bottom: 10px; }
    .card p, .card li { color: #555; line-height: 1.5; }
    .guide-figure { position: relative; aspect-ratio: 16/9; border-radius: 10px; overflow: hidden; background: linear-gradient(45deg, rgba(102,126,234,0.08), rgba(118,75,162,0.08)); display: grid; place-items: center; }
    .guide-figure svg { width: 90%; height: 90%; }
    .tag { display: inline-block; font-size: 0.78rem; padding: 4px 8px; border-radius: 999px; background: rgba(102,126,234,0.12); color: #4b57da; margin-right: 6px; }
    .row { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: space-between; }
    .btn-primary, .btn-ghost, .btn-copy { border: 0; padding: 12px 22px; border-radius: 999px; cursor: pointer; transition: transform .2s ease, box-shadow .2s ease; }
    .btn-primary { background: linear-gradient(135deg,#667eea,#764ba2); color: #fff; box-shadow: 0 6px 18px rgba(102,126,234,0.35); }
    .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 10px 26px rgba(102,126,234,0.45); }
    .btn-ghost { background: rgba(255,255,255,0.6); color: #555; }
    .btn-copy { background: #eee; color: #444; padding: 8px 14px; }
    .small { font-size: .9rem; color: #666; }
    textarea.script { width: 100%; min-height: 140px; border: 1px dashed #cfd3ff; background: #fafaff; padding: 12px; border-radius: 10px; font-size: .95rem; color: #333; outline: none; }

    /* 업로드 */
    .upload-section { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .upload-zone { border: 3px dashed #667eea; border-radius: 15px; padding: 40px; text-align: center; background: linear-gradient(45deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05)); transition: all .3s ease; cursor: pointer; }
    .upload-zone:hover { border-color: #764ba2; background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); transform: translateY(-2px); }
    .upload-zone.dragover { border-color: #764ba2; background: linear-gradient(45deg, rgba(102,126,234,0.15), rgba(118,75,162,0.15)); }
    .upload-icon { font-size: 4rem; color: #667eea; margin-bottom: 20px; }
    .file-input { display: none; }
    .upload-text { font-size: 1.2rem; color: #666; margin-bottom: 15px; }
    .file-types { font-size: 0.9rem; color: #999; }
    .selected-file { background: rgba(102,126,234,0.1); border: 2px solid #667eea; border-radius: 8px; padding: 15px; margin: 15px 0; text-align: left; }
    .file-name { font-weight: bold; color: #667eea; margin-bottom: 5px; }
    .file-size { color: #666; font-size: 0.9rem; }

    .analyze-btn { background: linear-gradient(135deg,#667eea,#764ba2); color: white; border: none; padding: 15px 30px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; transition: all .3s ease; box-shadow: 0 5px 15px rgba(102,126,234,0.3); margin-top: 20px; opacity: .5; pointer-events: none; }
    .analyze-btn:enabled { opacity: 1; pointer-events: all; }
    .analyze-btn:hover:enabled { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(102,126,234,0.4); }
    .demo-btn { background: linear-gradient(135deg,#4caf50,#45a049); color: white; border: none; padding: 12px 25px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all .3s ease; margin-left: 15px; box-shadow: 0 5px 15px rgba(76,175,80,0.3); }
    .demo-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(76,175,80,0.4); }

    /* 탭 기능 */
    .tab-buttons { display: flex; margin-bottom: 20px; background: rgba(255,255,255,0.8); border-radius: 12px; padding: 4px; }
    .tab-btn { flex: 1; padding: 12px 20px; border: none; background: transparent; border-radius: 8px; cursor: pointer; transition: all .3s ease; font-size: 1rem; color: #666; }
    .tab-btn.active { background: linear-gradient(135deg,#667eea,#764ba2); color: white; box-shadow: 0 4px 12px rgba(102,126,234,0.3); }
    .tab-btn:hover:not(.active) { background: rgba(102,126,234,0.1); color: #667eea; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* 웹캠 녹화 */
    .webcam-container { position: relative; width: 100%; max-width: 640px; margin: 0 auto 20px; border-radius: 15px; overflow: hidden; background: #000; aspect-ratio: 16/9; }
    .webcam-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #667eea; }
    .webcam-overlay.hidden { display: none; }
    .webcam-icon { font-size: 4rem; margin-bottom: 15px; }
    .webcam-text { font-size: 1.2rem; text-align: center; }
    #webcamPreview { width: 100%; height: 100%; object-fit: cover; }
    .recording-controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; }
    .btn-danger { background: linear-gradient(135deg,#e74c3c,#c0392b); color: white; border: none; padding: 12px 25px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all .3s ease; box-shadow: 0 5px 15px rgba(231,76,60,0.3); }
    .btn-danger:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(231,76,60,0.4); }
    .recording-info { display: flex; gap: 20px; justify-content: center; align-items: center; background: rgba(231,76,60,0.1); border: 2px solid rgba(231,76,60,0.3); border-radius: 10px; padding: 12px; font-size: 1rem; color: #e74c3c; }
    .recording-time, .recording-size { font-weight: bold; }
    
    @media (max-width: 768px) {
      .tab-btn { padding: 10px 15px; font-size: 0.9rem; }
      .webcam-container { max-width: 100%; }
      .recording-controls { flex-direction: column; align-items: center; }
      .recording-info { flex-direction: column; gap: 10px; }
    }

    /* 프롬프트 섹션 */
    .prompt-section { background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .prompt-header { text-align: center; margin-bottom: 25px; }
    .prompt-header h3 { font-size: 1.4rem; color: #333; margin-bottom: 8px; }
    .prompt-header p { color: #666; font-size: 1rem; }
    .prompt-display { background: #f8f9ff; border: 2px solid #e1e5ff; border-radius: 12px; padding: 25px; margin-bottom: 20px; min-height: 120px; position: relative; }
    .prompt-text { font-size: 1.3rem; line-height: 1.8; color: #333; text-align: center; word-break: keep-all; }
    .prompt-text.large { font-size: 1.6rem; }
    .prompt-text.editing { background: white; border: 2px solid #667eea; border-radius: 8px; padding: 15px; outline: none; resize: vertical; min-height: 100px; font-family: inherit; }
    .prompt-controls { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: center; }
    .prompt-timer { display: flex; align-items: center; gap: 8px; margin-left: auto; }
    .prompt-timer span { font-family: 'Courier New', monospace; font-size: 1.1rem; color: #667eea; font-weight: bold; min-width: 50px; }
    .timer-active { color: #e74c3c !important; }
    
    @media (max-width: 768px) {
      .prompt-text { font-size: 1.1rem; }
      .prompt-text.large { font-size: 1.4rem; }
      .prompt-controls { justify-content: center; }
      .prompt-timer { margin-left: 0; }
    }

    /* 결과 카드 공통 */
    .results-section { display: none; background: rgba(255,255,255,0.95); border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
    .score-display { text-align: center; margin-bottom: 30px; }
    .score-circle { width: 150px; height: 150px; border-radius: 50%; background: conic-gradient(from 0deg,#667eea 0%,#764ba2 100%); display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; position: relative; }
    .score-circle::before { content: ''; position: absolute; inset: 10px; background: white; border-radius: 50%; }
    .score-value { font-size: 2.5rem; font-weight: bold; color: #667eea; z-index: 1; }
    .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap: 20px; margin-bottom: 30px; }
    .metric-card { background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-left: 4px solid #667eea; }
    .metric-title { font-size: 1.05rem; font-weight: bold; margin-bottom: 10px; color: #333; }
    .metric-value { font-size: 1.35rem; color: #667eea; font-weight: bold; margin-bottom: 5px; }
    .metric-description { font-size: 0.9rem; color: #666; }
    .progress-bar { width: 100%; height: 8px; background: #e0e0e0; border-radius: 4px; margin: 10px 0; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(135deg,#667eea,#764ba2); transition: width 1s ease; }

    .coaching-tips { background: #fff; border-radius: 10px; padding: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
    .coaching-tips h3 { color: #333; margin-bottom: 20px; font-size: 1.2rem; }
    .tip-item { background: linear-gradient(135deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05)); border-radius: 8px; padding: 15px; margin-bottom: 12px; border-left: 4px solid #667eea; font-size: 1rem; line-height: 1.5; }

    @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)} }
    .analyzing { animation: pulse 2s infinite; }

        @media (max-width: 768px) {
      .header h1 { font-size: 2rem; }
      .metrics-grid { grid-template-columns: 1fr; }
      .score-circle { width: 120px; height: 120px; }
      .score-value { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 AI 모의 면접 분석기</h1>
      <p>AI 기반으로 면접 영상을 분석하고, 세분화된 개선 팁을 제공합니다</p>
    </div>

    <!-- 온보딩: 촬영 범위 안내 + 기본 멘트 -->
    <section class="onboarding" id="onboarding">
      <div class="row" style="margin-bottom:14px; gap:12px;">
        <h2>첫 시작 가이드</h2>
        <span class="tag">촬영 범위</span>
        <span class="tag">기본 멘트</span>
        <span class="tag">체크리스트</span>
      </div>
      <div class="onboarding-grid">
        <div class="card">
          <h3>📷 카메라 프레이밍 & 범위 지정</h3>
          <div class="guide-figure" aria-label="권장 프레이밍 도식">
            <!-- 간단한 프레이밍 가이드 SVG -->
            <svg viewBox="0 0 800 450" role="img">
              <defs>
                <linearGradient id="g" x1="0" x2="1">
                  <stop offset="0%" stop-color="#667eea33" />
                  <stop offset="100%" stop-color="#764ba233" />
                </linearGradient>
              </defs>
              <!-- 프레임 -->
              <rect x="20" y="20" width="760" height="410" rx="12" ry="12" fill="url(#g)" stroke="#667eea" stroke-dasharray="8 6" />
              <!-- 안전영역 -->
              <rect x="160" y="70" width="480" height="310" rx="10" ry="10" fill="none" stroke="#8b7cf5" stroke-width="2" stroke-dasharray="6 6" />
              <!-- 인물 가이드 -->
              <circle cx="400" cy="170" r="45" fill="#d8defe" stroke="#667eea" />
              <rect x="360" y="215" width="80" height="90" rx="10" fill="#d8defe" stroke="#667eea" />
              <!-- 텍스트 -->
              <text x="400" y="120" text-anchor="middle" font-size="16" fill="#4b57da">머리 꼭대기 여유 5~10%</text>
              <text x="400" y="330" text-anchor="middle" font-size="16" fill="#4b57da">가슴 윗부분~어깨선 포함</text>
              <text x="400" y="400" text-anchor="middle" font-size="14" fill="#555">눈높이 = 카메라 높이 / 배경은 단순 & 밝게</text>
            </svg>
          </div>
          <ul style="margin-top:12px; padding-left:18px;">
            <li>화면에 <b>머리~어깨~가슴 윗부분</b>이 들어오도록 1m 전후 거리 유지</li>
            <li><b>눈높이=카메라 높이</b> 맞추기 (로우앵글/하이앵글 지양)</li>
            <li>정면 45~60cm 앞에 시선 고정(웹캠 렌즈)</li>
            <li>배경은 <b>단색/정돈</b>, 얼굴 정면 <b>광원 1</b> 유지</li>
          </ul>
        </div>
        <div class="card">
          <h3>🗣️ 기본 멘트 템플릿 (30~45초)</h3>
          <textarea id="baseScript" class="script">안녕하세요, [이름]입니다. 저는 [전공/경험]을 바탕으로 [핵심 역량 1, 2]을 갖추고 있습니다. 최근에는 [프로젝트/인턴/성과]에서 [구체적 행동]을 통해 [수치/결과]를 만들었습니다. 이 경험을 바탕으로 귀사에서 [직무]로서 [가치 기여]를 실현하고 싶습니다. 감사합니다.</textarea>
          <div class="row" style="margin-top:10px;">
            <button class="btn-copy" id="copyScript">복사</button>
            <span class="small">팁: 120~160 WPM을 목표로, 문장 끝 호흡을 분명히!</span>
          </div>
        </div>
        <div class="card">
          <h3>✅ 촬영 체크리스트</h3>
          <ul style="padding-left:18px; line-height:1.8;">
            <li>배경 소음 <b>OFF</b> / 폰 알림 <b>무음</b></li>
            <li>조명: 얼굴 정면 <b>그림자 최소화</b></li>
            <li>프레이밍: 머리 윗공간 5~10%, 어깨선 포함</li>
            <li>렌즈 응시 테스트(3초) → 녹화 시작</li>
          </ul>
          <div class="row" style="margin-top:14px;">
            <button class="btn-primary" id="startUpload">업로드로 이동</button>
            <button class="btn-ghost" id="skipOnboarding">다음에 보기</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 업로드/녹화 섹션 -->
    <div class="upload-section" id="uploadSection">
      <!-- 탭 버튼 -->
      <div class="tab-buttons">
        <button class="tab-btn active" id="uploadTab">📁 파일 업로드</button>
        <button class="tab-btn" id="recordTab">🎥 웹캠 녹화</button>
        </div>

      <!-- 파일 업로드 탭 -->
      <div class="tab-content active" id="uploadContent">
        <div class="upload-zone" id="uploadZone" onclick="document.getElementById('videoFile').click()">
          <div class="upload-icon">📁</div>
                <div class="upload-text">프레젠테이션 영상을 업로드하세요</div>
                <div class="file-types">지원 형식: MP4, AVI, MOV, WebM</div>
          <input type="file" id="videoFile" class="file-input" accept="video/*" />
        </div>
      </div>

      <!-- 웹캠 녹화 탭 -->
      <div class="tab-content" id="recordContent">
        <div class="webcam-container">
          <video id="webcamPreview" autoplay muted playsinline></video>
          <div class="webcam-overlay" id="webcamOverlay">
            <div class="webcam-icon">🎥</div>
            <div class="webcam-text">웹캠을 시작하려면 아래 버튼을 클릭하세요</div>
          </div>
        </div>
        <div class="recording-controls">
          <button class="btn-primary" id="startWebcamBtn">📹 웹캠 시작</button>
          <button class="btn-primary" id="startRecordBtn" style="display:none;">🔴 녹화 시작</button>
          <button class="btn-danger" id="stopRecordBtn" style="display:none;">⏹️ 녹화 중지</button>
          <button class="btn-ghost" id="stopWebcamBtn" style="display:none;">📹 웹캠 종료</button>
        </div>
        <div class="recording-info" id="recordingInfo" style="display:none;">
          <span class="recording-time">⏺️ <span id="recordingTime">00:00</span></span>
          <span class="recording-size">📦 <span id="recordingSize">0 MB</span></span>
        </div>
            </div>
            
      <!-- 선택된 파일/녹화된 영상 정보 -->
      <div id="selectedFile" class="selected-file" style="display:none;">
                <div class="file-name"></div>
                <div class="file-size"></div>
            </div>
            
      <div style="text-align:center; margin-top: 20px;">
        <button class="analyze-btn" id="analyzeBtn" disabled>🔍 분석 시작하기</button>
        <button class="demo-btn" id="demoBtn">🎬 데모 실행</button>
      </div>
    </div>

    <!-- 프롬프트 섹션 -->
    <div class="prompt-section" id="promptSection">
      <div class="prompt-header">
        <h3>📝 면접 대본 프롬프터</h3>
        <p>영상 촬영 시 아래 텍스트를 보며 자연스럽게 읽어보세요</p>
      </div>
      <div class="prompt-display" id="promptDisplay">
        <div class="prompt-text">
          안녕하세요, [이름]입니다. 저는 [전공/경험]을 바탕으로 [핵심 역량 1, 2]을 갖추고 있습니다. 
          최근에는 [프로젝트/인턴/성과]에서 [구체적 행동]을 통해 [수치/결과]를 만들었습니다. 
          이 경험을 바탕으로 귀사에서 [직무]로서 [가치 기여]를 실현하고 싶습니다. 감사합니다.
        </div>
      </div>
      <div class="prompt-controls">
        <button class="btn-ghost" id="editPromptBtn">✏️ 수정</button>
        <button class="btn-ghost" id="fontSizeBtn">🔤 글자 크기</button>
        <button class="btn-ghost" id="resetPromptBtn">🔄 기본값</button>
        <div class="prompt-timer">
          <span id="timerDisplay">00:00</span>
          <button class="btn-copy" id="startTimerBtn">⏱️ 타이머</button>
        </div>
            </div>
        </div>

    <!-- 결과 섹션 -->
        <div class="results-section" id="resultsSection">
            <div class="score-display">
        <div class="score-circle"><div class="score-value" id="totalScore">0</div></div>
                <h2>전체 점수</h2>
                <p>5점 만점 기준</p>
            </div>

      <div class="metrics-grid" id="metricsGrid">
        <!-- 기존 메트릭 -->
        <div class="metric-card"><div class="metric-title">🗣️ 말하기 속도</div><div class="metric-value" id="wpmValue">0 WPM</div><div class="progress-bar"><div class="progress-fill" id="wpmProgress"></div></div><div class="metric-description">적정 속도: 140-180 단어/분</div></div>
        <div class="metric-card"><div class="metric-title">🔊 음성 볼륨</div><div class="metric-value" id="volumeValue">적정</div><div class="progress-bar"><div class="progress-fill" id="volumeProgress"></div></div><div class="metric-description">일정하고 명료한 음성</div></div>
        <div class="metric-card"><div class="metric-title">👀 시선 집중도</div><div class="metric-value" id="gazeValue">0%</div><div class="progress-bar"><div class="progress-fill" id="gazeProgress"></div></div><div class="metric-description">카메라를 바라본 시간</div></div>
        <div class="metric-card"><div class="metric-title">💺 자세 안정성</div><div class="metric-value" id="postureValue">0%</div><div class="progress-bar"><div class="progress-fill" id="postureProgress"></div></div><div class="metric-description">바른 자세 유지도</div></div>
        <div class="metric-card"><div class="metric-title">😊 표정 관리</div><div class="metric-value" id="expressionValue">0%</div><div class="progress-bar"><div class="progress-fill" id="expressionProgress"></div></div><div class="metric-description">적절한 표정 변화</div></div>
        <div class="metric-card"><div class="metric-title">💡 환경 점수</div><div class="metric-value" id="environmentValue">0점</div><div class="progress-bar"><div class="progress-fill" id="environmentProgress"></div></div><div class="metric-description">조명 및 배경 품질</div></div>
        <!-- 세분화 추가 메트릭 -->
        <div class="metric-card"><div class="metric-title">🧩 불필요어 비율(음/어)</div><div class="metric-value" id="fillerValue">0%</div><div class="progress-bar"><div class="progress-fill" id="fillerProgress"></div></div><div class="metric-description">총 발화 대비 불필요어 비중</div></div>
        <div class="metric-card"><div class="metric-title">⏸️ 침묵 비율</div><div class="metric-value" id="silenceValue">0%</div><div class="progress-bar"><div class="progress-fill" id="silenceProgress"></div></div><div class="metric-description">의도된/비의도된 정지 구분</div></div>
        <div class="metric-card"><div class="metric-title">🔁 말끝 흐림(어말강세)</div><div class="metric-value" id="endingValue">0%</div><div class="progress-bar"><div class="progress-fill" id="endingProgress"></div></div><div class="metric-description">문장 말미 명료도</div></div>
        <div class="metric-card"><div class="metric-title">🙂 미소 유지 비율</div><div class="metric-value" id="smileValue">0%</div><div class="progress-bar"><div class="progress-fill" id="smileProgress"></div></div><div class="metric-description">긍정적 표정 유지 시간</div></div>
        <div class="metric-card"><div class="metric-title">🪞 고개 흔들림</div><div class="metric-value" id="headMoveValue">0%</div><div class="progress-bar"><div class="progress-fill" id="headMoveProgress"></div></div><div class="metric-description">수평/수직 흔들림 안정도</div></div>
        <div class="metric-card"><div class="metric-title">👁️ 깜빡임 빈도</div><div class="metric-value" id="blinkValue">0/min</div><div class="progress-bar"><div class="progress-fill" id="blinkProgress"></div></div><div class="metric-description">분당 10~20회 권장</div></div>
            </div>

            <div class="coaching-tips">
                <h3>🎯 맞춤 개선 팁</h3>
        <div id="coachingTips"></div>
            </div>
        </div>
    </div>

    <script>
    // ===== 온보딩 동작 =====
    const onboarding = document.getElementById('onboarding');
    const startUpload = document.getElementById('startUpload');
    const skipOnboarding = document.getElementById('skipOnboarding');
    const copyBtn = document.getElementById('copyScript');
    const baseScript = document.getElementById('baseScript');

    startUpload?.addEventListener('click', () => {
      document.getElementById('uploadSection').scrollIntoView({ behavior: 'smooth' });
    });
    skipOnboarding?.addEventListener('click', () => {
      onboarding.style.display = 'none';
      document.getElementById('uploadSection').scrollIntoView({ behavior: 'smooth' });
    });
    copyBtn?.addEventListener('click', async () => {
      try { await navigator.clipboard.writeText(baseScript.value); copyBtn.textContent = '복사됨!'; setTimeout(()=>copyBtn.textContent='복사', 1200); } catch(e) { alert('복사 실패: ' + e); }
    });

    // ===== 프롬프트 기능 =====
    const promptText = document.querySelector('.prompt-text');
    const editPromptBtn = document.getElementById('editPromptBtn');
    const fontSizeBtn = document.getElementById('fontSizeBtn');
    const resetPromptBtn = document.getElementById('resetPromptBtn');
    const startTimerBtn = document.getElementById('startTimerBtn');
    const timerDisplay = document.getElementById('timerDisplay');
    
    let isEditing = false;
    let isLargeFont = false;
    let timer = null;
    let seconds = 0;
    
    const defaultPromptText = "안녕하세요, [이름]입니다. 저는 [전공/경험]을 바탕으로 [핵심 역량 1, 2]을 갖추고 있습니다. 최근에는 [프로젝트/인턴/성과]에서 [구체적 행동]을 통해 [수치/결과]를 만들었습니다. 이 경험을 바탕으로 귀사에서 [직무]로서 [가치 기여]를 실현하고 싶습니다. 감사합니다.";
    
    // 프롬프트 수정 기능
    editPromptBtn?.addEventListener('click', () => {
      if (!isEditing) {
        // 수정 모드 시작
        const currentText = promptText.textContent.trim();
        promptText.innerHTML = `<textarea class="prompt-text editing">${currentText}</textarea>`;
        const textarea = promptText.querySelector('textarea');
        textarea.focus();
        textarea.select();
        editPromptBtn.textContent = '✅ 저장';
        isEditing = true;
        
        // 엔터키로 저장
        textarea.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && e.ctrlKey) {
            editPromptBtn.click();
          }
        });
      } else {
        // 저장
        const textarea = promptText.querySelector('textarea');
        const newText = textarea.value.trim() || defaultPromptText;
        promptText.innerHTML = newText;
        editPromptBtn.textContent = '✏️ 수정';
        isEditing = false;
      }
    });
    
    // 글자 크기 변경
    fontSizeBtn?.addEventListener('click', () => {
      if (!isEditing) {
        isLargeFont = !isLargeFont;
        promptText.classList.toggle('large', isLargeFont);
        fontSizeBtn.textContent = isLargeFont ? '🔤 작게' : '🔤 크게';
      }
    });
    
    // 기본값 복원
    resetPromptBtn?.addEventListener('click', () => {
      if (confirm('기본 템플릿으로 되돌리시겠습니까?')) {
        promptText.innerHTML = defaultPromptText;
        if (isEditing) {
          editPromptBtn.textContent = '✏️ 수정';
          isEditing = false;
        }
      }
    });
    
    // 타이머 기능
    startTimerBtn?.addEventListener('click', () => {
      if (!timer) {
        // 타이머 시작
        seconds = 0;
        timer = setInterval(() => {
          seconds++;
          const mins = Math.floor(seconds / 60);
          const secs = seconds % 60;
          timerDisplay.textContent = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
        }, 1000);
        startTimerBtn.textContent = '⏹️ 정지';
        timerDisplay.classList.add('timer-active');
      } else {
        // 타이머 정지
        clearInterval(timer);
        timer = null;
        startTimerBtn.textContent = '⏱️ 타이머';
        timerDisplay.classList.remove('timer-active');
      }
    });

    // ===== 탭 기능 =====
    const uploadTab = document.getElementById('uploadTab');
    const recordTab = document.getElementById('recordTab');
    const uploadContent = document.getElementById('uploadContent');
    const recordContent = document.getElementById('recordContent');

    uploadTab?.addEventListener('click', () => {
      uploadTab.classList.add('active');
      recordTab.classList.remove('active');
      uploadContent.classList.add('active');
      recordContent.classList.remove('active');
    });

    recordTab?.addEventListener('click', () => {
      recordTab.classList.add('active');
      uploadTab.classList.remove('active');
      recordContent.classList.add('active');
      uploadContent.classList.remove('active');
    });

    // ===== 웹캠 녹화 기능 =====
    let mediaStream = null;
    let mediaRecorder = null;
    let recordedChunks = [];
    let recordingTimer = null;
    let recordingSeconds = 0;
    let recordedBlob = null;

    const webcamPreview = document.getElementById('webcamPreview');
    const webcamOverlay = document.getElementById('webcamOverlay');
    const startWebcamBtn = document.getElementById('startWebcamBtn');
    const startRecordBtn = document.getElementById('startRecordBtn');
    const stopRecordBtn = document.getElementById('stopRecordBtn');
    const stopWebcamBtn = document.getElementById('stopWebcamBtn');
    const recordingInfo = document.getElementById('recordingInfo');
    const recordingTime = document.getElementById('recordingTime');
    const recordingSize = document.getElementById('recordingSize');

    // 웹캠 시작
    startWebcamBtn?.addEventListener('click', async () => {
      try {
        mediaStream = await navigator.mediaDevices.getUserMedia({ 
          video: { width: 1280, height: 720, facingMode: 'user' }, 
          audio: true 
        });
        
        webcamPreview.srcObject = mediaStream;
        webcamOverlay.classList.add('hidden');
        
        startWebcamBtn.style.display = 'none';
        startRecordBtn.style.display = 'inline-block';
        stopWebcamBtn.style.display = 'inline-block';
        
      } catch (error) {
        alert('웹캠 접근 권한이 필요합니다. 브라우저 설정에서 카메라와 마이크 권한을 허용해주세요.');
        console.error('웹캠 접근 오류:', error);
      }
    });

    // 녹화 시작
    startRecordBtn?.addEventListener('click', () => {
      if (!mediaStream) return;
      
      recordedChunks = [];
      recordingSeconds = 0;
      
      try {
        mediaRecorder = new MediaRecorder(mediaStream, {
          mimeType: 'video/webm;codecs=vp9,opus'
        });
        
        mediaRecorder.ondataavailable = (event) => {
          if (event.data.size > 0) {
            recordedChunks.push(event.data);
            // 실시간 크기 업데이트
            const totalSize = recordedChunks.reduce((size, chunk) => size + chunk.size, 0);
            recordingSize.textContent = (totalSize / 1024 / 1024).toFixed(1) + ' MB';
          }
        };
        
        mediaRecorder.onstop = () => {
          recordedBlob = new Blob(recordedChunks, { type: 'video/webm' });
          
          // 녹화된 파일을 selectedFile로 설정
          selectedFile = new File([recordedBlob], `recorded_${Date.now()}.webm`, { type: 'video/webm' });
            
            // 파일 정보 표시
          const selectedFileDiv = document.getElementById('selectedFile');
            selectedFileDiv.style.display = 'block';
          selectedFileDiv.querySelector('.file-name').textContent = selectedFile.name;
          selectedFileDiv.querySelector('.file-size').textContent = formatFileSize(selectedFile.size);
            
            // 분석 버튼 활성화
            analyzeBtn.disabled = false;
          
          alert('녹화가 완료되었습니다! 이제 분석을 시작할 수 있습니다.');
        };
        
        mediaRecorder.start(100); // 100ms마다 데이터 수집
        
        // UI 업데이트
        startRecordBtn.style.display = 'none';
        stopRecordBtn.style.display = 'inline-block';
        recordingInfo.style.display = 'flex';
        
        // 타이머 시작
        recordingTimer = setInterval(() => {
          recordingSeconds++;
          const mins = Math.floor(recordingSeconds / 60);
          const secs = recordingSeconds % 60;
          recordingTime.textContent = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
        }, 1000);
        
      } catch (error) {
        alert('녹화 시작 중 오류가 발생했습니다: ' + error.message);
        console.error('녹화 오류:', error);
      }
    });

    // 녹화 중지
    stopRecordBtn?.addEventListener('click', () => {
      if (mediaRecorder && mediaRecorder.state === 'recording') {
        mediaRecorder.stop();
      }
      
      if (recordingTimer) {
        clearInterval(recordingTimer);
        recordingTimer = null;
      }
      
      // UI 업데이트
      stopRecordBtn.style.display = 'none';
      startRecordBtn.style.display = 'inline-block';
      recordingInfo.style.display = 'none';
    });

    // 웹캠 종료
    stopWebcamBtn?.addEventListener('click', () => {
      if (mediaStream) {
        mediaStream.getTracks().forEach(track => track.stop());
        mediaStream = null;
      }
      
      webcamPreview.srcObject = null;
      webcamOverlay.classList.remove('hidden');
      
      // 녹화 중이면 중지
      if (mediaRecorder && mediaRecorder.state === 'recording') {
        stopRecordBtn.click();
      }
      
      // UI 리셋
      startWebcamBtn.style.display = 'inline-block';
      startRecordBtn.style.display = 'none';
      stopRecordBtn.style.display = 'none';
      stopWebcamBtn.style.display = 'none';
      recordingInfo.style.display = 'none';
    });

    // ===== 업로드 처리 =====
    let selectedFile = null;
    const fileInput = document.getElementById('videoFile');
    const uploadZone = document.getElementById('uploadZone');
    const selectedFileDiv = document.getElementById('selectedFile');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const demoBtn = document.getElementById('demoBtn');

    function formatFileSize(bytes){ if(bytes===0) return '0 Bytes'; const k=1024; const sizes=['Bytes','KB','MB','GB']; const i=Math.floor(Math.log(bytes)/Math.log(k)); return parseFloat((bytes/Math.pow(k,i)).toFixed(2)) + ' ' + sizes[i]; }

    function handleFileSelect(event){ const file = event.target.files?.[0]; if(!file) return; selectedFile=file; selectedFileDiv.style.display='block'; selectedFileDiv.querySelector('.file-name').textContent=file.name; selectedFileDiv.querySelector('.file-size').textContent=formatFileSize(file.size); analyzeBtn.disabled=false; }

    fileInput.addEventListener('change', handleFileSelect);

    uploadZone.addEventListener('dragover', (e)=>{ e.preventDefault(); uploadZone.classList.add('dragover'); });
    uploadZone.addEventListener('dragleave', ()=> uploadZone.classList.remove('dragover'));
    uploadZone.addEventListener('drop', (e)=>{ e.preventDefault(); uploadZone.classList.remove('dragover'); const files=e.dataTransfer.files; if(files.length>0){ handleFileSelect({ target:{ files } }); }});

    // ===== 분석 시뮬레이션 =====
    analyzeBtn.addEventListener('click', ()=>{ if(!selectedFile) return; simulateAnalysis(); });
    demoBtn.addEventListener('click', runDemo);

    function simulateAnalysis(){
      analyzeBtn.textContent='🔄 분석 중...'; analyzeBtn.disabled=true; analyzeBtn.classList.add('analyzing');
      // 실제 구현에서는 서버 업로드 및 분석 후 결과 수신
      setTimeout(()=>{ showResults(); analyzeBtn.textContent='🔍 분석 시작하기'; analyzeBtn.disabled=false; analyzeBtn.classList.remove('analyzing'); }, 2600);
    }

    function showResults(){ const resultsSection=document.getElementById('resultsSection'); resultsSection.style.display='block'; resultsSection.scrollIntoView({ behavior:'smooth' }); animateResults(); }

    function animateValue(id, start, end, duration){ const el=document.getElementById(id); const st=performance.now(); function update(t){ const p=Math.min((t-st)/duration,1); const cur=start+(end-start)*p; el.textContent=(id==='totalScore'?cur.toFixed(1):Math.round(cur)); if(p<1) requestAnimationFrame(update); } requestAnimationFrame(update); }

    // 랜덤하지만 현실적인 분석 결과 생성
    function generateRandomResults() {
      // 기본 성능 레벨을 랜덤하게 설정 (1: 초급, 2: 중급, 3: 고급)
      const performanceLevel = Math.random() < 0.3 ? 1 : Math.random() < 0.7 ? 2 : 3;
      
      let baseScores;
      if (performanceLevel === 1) {
        // 초급자 점수 범위
        baseScores = {
          totalScore: 2.5 + Math.random() * 1.2, // 2.5-3.7
          wpm: 100 + Math.random() * 40, // 100-140
          volume: 60 + Math.random() * 25, // 60-85
          gaze: 40 + Math.random() * 30, // 40-70
          posture: 50 + Math.random() * 25, // 50-75
          expression: 30 + Math.random() * 35, // 30-65
          environment: 2.5 + Math.random() * 1.5, // 2.5-4.0
          filler: 12 + Math.random() * 8, // 12-20%
          silence: 15 + Math.random() * 10, // 15-25%
          ending: 45 + Math.random() * 25, // 45-70%
          smile: 25 + Math.random() * 30, // 25-55%
          headMove: 45 + Math.random() * 25, // 45-70%
          blinkPerMin: 8 + Math.random() * 12 // 8-20
        };
      } else if (performanceLevel === 2) {
        // 중급자 점수 범위
        baseScores = {
          totalScore: 3.5 + Math.random() * 1.0, // 3.5-4.5
          wpm: 130 + Math.random() * 40, // 130-170
          volume: 70 + Math.random() * 20, // 70-90
          gaze: 60 + Math.random() * 25, // 60-85
          posture: 65 + Math.random() * 25, // 65-90
          expression: 55 + Math.random() * 25, // 55-80
          environment: 3.5 + Math.random() * 1.2, // 3.5-4.7
          filler: 5 + Math.random() * 10, // 5-15%
          silence: 8 + Math.random() * 12, // 8-20%
          ending: 60 + Math.random() * 25, // 60-85%
          smile: 45 + Math.random() * 30, // 45-75%
          headMove: 65 + Math.random() * 25, // 65-90%
          blinkPerMin: 10 + Math.random() * 10 // 10-20
        };
      } else {
        // 고급자 점수 범위
        baseScores = {
          totalScore: 4.2 + Math.random() * 0.8, // 4.2-5.0
          wpm: 150 + Math.random() * 30, // 150-180
          volume: 80 + Math.random() * 15, // 80-95
          gaze: 75 + Math.random() * 20, // 75-95
          posture: 80 + Math.random() * 15, // 80-95
          expression: 70 + Math.random() * 25, // 70-95
          environment: 4.0 + Math.random() * 1.0, // 4.0-5.0
          filler: 2 + Math.random() * 6, // 2-8%
          silence: 3 + Math.random() * 8, // 3-11%
          ending: 75 + Math.random() * 20, // 75-95%
          smile: 65 + Math.random() * 25, // 65-90%
          headMove: 80 + Math.random() * 15, // 80-95%
          blinkPerMin: 12 + Math.random() * 8 // 12-20
        };
      }

      // 일부 메트릭에 상관관계 추가 (더 현실적으로)
      if (baseScores.gaze < 60) {
        baseScores.expression = Math.max(30, baseScores.expression * 0.8); // 시선 집중도가 낮으면 표정도 어색
      }
      
      if (baseScores.filler > 12) {
        baseScores.wpm = Math.max(80, baseScores.wpm * 0.9); // 불필요어가 많으면 말속도 감소
      }

      // 환경 점수가 낮으면 전체적으로 약간 감점
      if (baseScores.environment < 3.0) {
        baseScores.totalScore = Math.max(1.5, baseScores.totalScore * 0.9);
      }

      // 값들을 정수/소수점으로 적절히 반올림
      return {
        totalScore: Math.round(baseScores.totalScore * 10) / 10,
        wpm: Math.round(baseScores.wpm),
        volume: Math.round(baseScores.volume),
        gaze: Math.round(baseScores.gaze),
        posture: Math.round(baseScores.posture),
        expression: Math.round(baseScores.expression),
        environment: Math.round(baseScores.environment * 10) / 10,
        filler: Math.round(baseScores.filler),
        silence: Math.round(baseScores.silence),
        ending: Math.round(baseScores.ending),
        smile: Math.round(baseScores.smile),
        headMove: Math.round(baseScores.headMove),
        blinkPerMin: Math.round(baseScores.blinkPerMin)
      };
    }

        function animateResults(){
      // 랜덤 분석 결과 생성 (실제 AI 분석 결과처럼 보이도록)
      const results = generateRandomResults();

      animateValue('totalScore', 0, results.totalScore, 1800);

      setTimeout(()=>{ document.getElementById('wpmValue').textContent=results.wpm+' WPM'; document.getElementById('wpmProgress').style.width=Math.min(100,(results.wpm/180)*100)+'%'; }, 300);
      setTimeout(()=>{ document.getElementById('volumeValue').textContent=results.volume+'%'; document.getElementById('volumeProgress').style.width=results.volume+'%'; }, 550);
      setTimeout(()=>{ document.getElementById('gazeValue').textContent=results.gaze+'%'; document.getElementById('gazeProgress').style.width=results.gaze+'%'; }, 800);
      setTimeout(()=>{ document.getElementById('postureValue').textContent=results.posture+'%'; document.getElementById('postureProgress').style.width=results.posture+'%'; }, 1050);
      setTimeout(()=>{ document.getElementById('expressionValue').textContent=results.expression+'%'; document.getElementById('expressionProgress').style.width=results.expression+'%'; }, 1300);
      setTimeout(()=>{ document.getElementById('environmentValue').textContent=results.environment.toFixed(1)+'점'; document.getElementById('environmentProgress').style.width=(results.environment/5)*100+'%'; }, 1550);

      // 추가 메트릭 채우기
      setTimeout(()=>{ document.getElementById('fillerValue').textContent=results.filler+'%'; document.getElementById('fillerProgress').style.width=results.filler+'%'; }, 1700);
      setTimeout(()=>{ document.getElementById('silenceValue').textContent=results.silence+'%'; document.getElementById('silenceProgress').style.width=results.silence+'%'; }, 1850);
      setTimeout(()=>{ document.getElementById('endingValue').textContent=results.ending+'%'; document.getElementById('endingProgress').style.width=results.ending+'%'; }, 2000);
      setTimeout(()=>{ document.getElementById('smileValue').textContent=results.smile+'%'; document.getElementById('smileProgress').style.width=results.smile+'%'; }, 2150);
      setTimeout(()=>{ document.getElementById('headMoveValue').textContent=results.headMove+'%'; document.getElementById('headMoveProgress').style.width=results.headMove+'%'; }, 2300);
      setTimeout(()=>{ document.getElementById('blinkValue').textContent=results.blinkPerMin+'/min'; const pct=Math.min(100, (results.blinkPerMin/20)*100); document.getElementById('blinkProgress').style.width=pct+'%'; }, 2450);

      setTimeout(()=> showCoachingTips(results), 2600);
    }

    function showCoachingTips(r){
      const tipsContainer=document.getElementById('coachingTips');
      tipsContainer.innerHTML='';
      const tips = generateCoachingTips(r);
      tips.forEach((tip, i)=>{ setTimeout(()=>{ const el=document.createElement('div'); el.className='tip-item'; el.textContent=tip; tipsContainer.appendChild(el); }, i*350); });
    }

    function generateCoachingTips(r){
      const t=[];
      
      // 점수별 우선순위 팁 생성
      const issues = [];
      
      // 각 메트릭의 문제점과 중요도 평가
      if(r.wpm < 120) issues.push({priority: 9, tip: `🗣️ 말속도가 매우 느립니다(${r.wpm} WPM). 140-160 WPM을 목표로 연습하세요.`});
      else if(r.wpm < 140) issues.push({priority: 6, tip: `🗣️ 말속도를 약간 올려보세요(${r.wpm} WPM). 자신감 있게 또박또박 말해보세요.`});
      else if(r.wpm > 200) issues.push({priority: 8, tip: '⏱️ 말속도가 너무 빠릅니다. 청중이 따라올 수 있도록 천천히 말하세요.'});
      else if(r.wpm > 180) issues.push({priority: 5, tip: '⏱️ 말속도를 10% 정도 낮춰 문장 끝 호흡을 분명히 해보세요.'});
      
      if(r.gaze < 50) issues.push({priority: 10, tip: `👀 시선 집중도가 낮습니다(${r.gaze}%). 카메라를 정면으로 바라보는 연습을 하세요.`});
      else if(r.gaze < 70) issues.push({priority: 7, tip: '👀 카메라 렌즈를 더 자주 바라보세요. 핵심 문장 시작과 끝에 렌즈 고정!'});
      
      if(r.filler > 15) issues.push({priority: 9, tip: `🧩 불필요어가 많습니다(${r.filler}%). 말하기 전 1초 생각하는 습관을 기르세요.`});
      else if(r.filler > 8) issues.push({priority: 6, tip: '🧩 "음/어"를 줄이려면 문장 사이 0.5초 짧은 침묵으로 생각 정리 후 말하세요.'});
      
      if(r.smile < 40) issues.push({priority: 8, tip: `😊 표정이 경직되어 있습니다(${r.smile}%). 자연스러운 미소로 친근함을 표현하세요.`});
      else if(r.smile < 60) issues.push({priority: 5, tip: '🙂 인사/결론 구간에서 미소를 유지하면 신뢰감이 높아집니다.'});
      
      if(r.posture < 60) issues.push({priority: 7, tip: `💺 자세가 불안정합니다(${r.posture}%). 등을 곧게 펴고 어깨를 자연스럽게 유지하세요.`});
      else if(r.posture < 75) issues.push({priority: 4, tip: '💺 허리 세우고 어깨를 살짝 뒤로! 상체 흔들림을 줄여 안정감을 주세요.'});
      
      if(r.ending < 60) issues.push({priority: 6, tip: `🔁 말끝이 흐려집니다(${r.ending}%). 문장 마지막 단어까지 명확하게 발음하세요.`});
      else if(r.ending < 75) issues.push({priority: 4, tip: '🔁 문장 말미의 마지막 단어를 또렷하게. 낭독 연습으로 어말강세를 살려보세요.'});
      
      if(r.silence > 20) issues.push({priority: 7, tip: `⏸️ 침묵 구간이 깁니다(${r.silence}%). 키워드 메모를 준비해 자연스럽게 연결하세요.`});
      else if(r.silence > 12) issues.push({priority: 3, tip: '⏸️ 침묵이 길면 키워드 메모를 보고 연결어(예: 첫째, 다음으로)를 사용하세요.'});
      
      if(r.environment < 2.5) issues.push({priority: 5, tip: `💡 촬영 환경을 개선하세요(${r.environment}점). 조명과 배경을 정리해주세요.`});
      else if(r.environment < 3.5) issues.push({priority: 3, tip: '💡 정면 45도 각도 광원 1개 추가, 배경 대비를 높여 얼굴을 밝게 보정하세요.'});
      
      if(r.volume < 70) issues.push({priority: 6, tip: `🔊 목소리가 작습니다(${r.volume}%). 복식호흡으로 더 큰 목소리를 내보세요.`});
      
      if(r.headMove < 60) issues.push({priority: 4, tip: `🪞 고개 움직임이 많습니다(${r.headMove}% 안정도). 한 지점을 응시하며 안정감을 유지하세요.`});
      
      // 우수한 경우 격려 메시지
      if(r.totalScore >= 4.5) {
        t.push('🎉 훌륭한 프레젠테이션입니다! 전문적이고 자신감 있는 모습이 인상적입니다.');
      } else if(r.totalScore >= 4.0) {
        t.push('👍 전반적으로 우수합니다! 몇 가지 세부사항만 보완하면 완벽해집니다.');
      } else if(r.totalScore >= 3.0) {
        t.push('💪 기본기는 갖춰져 있습니다. 아래 개선점을 연습하면 크게 향상될 것입니다.');
      } else {
        t.push('🌱 연습할 부분이 많지만 충분히 개선 가능합니다. 하나씩 차근차근 연습해보세요.');
      }
      
      // 우선순위 순으로 정렬하여 상위 3개 이슈 선택
      issues.sort((a, b) => b.priority - a.priority);
      const topIssues = issues.slice(0, 3);
      
      topIssues.forEach(issue => t.push(issue.tip));
      
      // 최소 1개, 최대 4개 팁 반환
      return t.length > 0 ? t.slice(0, 4) : ['🎉 전반적으로 우수합니다! 동일 조건에서 3회 반복 촬영으로 안정성을 높여보세요.'];
    }

    function runDemo(){ selectedFile = { name:'demo_presentation.mp4', size: 15*1024*1024 }; const selectedFileDiv=document.getElementById('selectedFile'); selectedFileDiv.style.display='block'; selectedFileDiv.querySelector('.file-name').textContent='demo_presentation.mp4'; selectedFileDiv.querySelector('.file-size').textContent='15.0 MB'; analyzeBtn.disabled=false; setTimeout(()=> simulateAnalysis(), 400); }
    </script>
</body>
</html>
